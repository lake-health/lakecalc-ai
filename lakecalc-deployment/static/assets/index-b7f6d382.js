import{r as b,b as ui,g as xi,a as wa}from"./vendor-729d4b68.js";import{u as Na,a as fi,R as hi,b as yt,B as gi}from"./router-1ecd9ff5.js";import{C as vi,a as yi,L as bi,B as ji,p as wi,b as Ni,c as ki,d as Si}from"./charts-8535578e.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function i(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(s){if(s.ep)return;s.ep=!0;const r=i(s);fetch(s.href,r)}})();var ka={exports:{}},ct={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ei=b,Oi=Symbol.for("react.element"),Ai=Symbol.for("react.fragment"),Di=Object.prototype.hasOwnProperty,Ri=Ei.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ci={key:!0,ref:!0,__self:!0,__source:!0};function Sa(e,t,i){var n,s={},r=null,o=null;i!==void 0&&(r=""+i),t.key!==void 0&&(r=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)Di.call(t,n)&&!Ci.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:Oi,type:e,key:r,ref:o,props:s,_owner:Ri.current}}ct.Fragment=Ai;ct.jsx=Sa;ct.jsxs=Sa;ka.exports=ct;var a=ka.exports,Et={},Vt=ui;Et.createRoot=Vt.createRoot,Et.hydrateRoot=Vt.hydrateRoot;var Ti={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Fi=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),_i=(e,t)=>{const i=b.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:r=2,absoluteStrokeWidth:o,children:l,...f},u)=>b.createElement("svg",{ref:u,...Ti,width:s,height:s,stroke:n,strokeWidth:o?Number(r)*24/Number(s):r,className:`lucide lucide-${Fi(e)}`,...f},[...t.map(([p,m])=>b.createElement(p,m)),...(Array.isArray(l)?l:[l])||[]]));return i.displayName=`${e}`,i};var T=_i;const Ea=T("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),bt=T("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Pi=T("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),Gt=T("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]),Li=T("Brain",[["path",{d:"M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z",key:"1mhkh5"}],["path",{d:"M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z",key:"1d6s00"}]]),Me=T("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]),at=T("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),Ii=T("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),Oa=T("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),Ot=T("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),zi=T("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),Mi=T("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),we=T("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),dt=T("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),Ui=T("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),Zt=T("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]),qi=T("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),Bi=T("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]),$i=T("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),Aa=T("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Hi=T("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),Qt=T("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z",key:"3xmgem"}]]),Ki=T("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),Mt=T("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),Wi=T("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Ji=T("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),Vi="/assets/lakecalc-logo-83087718.png";function Gi(){const[e,t]=b.useState(!1),[i,n]=b.useState(!1),[s,r]=b.useState([]),o=b.useRef(null),l=d=>{d.preventDefault(),t(!0)},f=d=>{d.preventDefault(),t(!1)},u=d=>{d.preventDefault(),t(!1);const h=Array.from(d.dataTransfer.files).filter(g=>g.type.includes("pdf"));h.length>0?r(g=>[...g,...h]):alert("Please select PDF files only.")},p=d=>{const h=d.target.files;if(h){const g=Array.from(h).filter(N=>N.type.includes("pdf"));g.length>0?r(N=>[...N,...g]):alert("Please select PDF files only.")}},m=d=>{r(h=>h.filter((g,N)=>N!==d))},w=async()=>{if(s.length===0){alert("Please select at least one PDF file.");return}n(!0);try{const d=new FormData;s.forEach((g,N)=>{d.append("files",g)});const h=await fetch("/api/calculate",{method:"POST",body:d});if(h.ok){const g=await h.json();sessionStorage.setItem("calculationResults",JSON.stringify(g)),sessionStorage.setItem("uploadedFiles",JSON.stringify(s.map(N=>N.name))),window.location.href="/calculator"}else{const g=await h.json();throw new Error(g.error||"Upload failed")}}catch(d){console.error("Upload error:",d),alert(`Upload failed: ${d instanceof Error?d.message:"Please try again."}`)}finally{n(!1)}},E=()=>{var d;(d=o.current)==null||d.click()},v=[{icon:we,title:"8+ Biometry Devices",description:"Pentacam, IOL Master 700, Galilei, Lenstar LS900, Argos, OA-2000, AL-Scan & more",href:"#devices"},{icon:Me,title:"30+ IOL Formulas",description:"Barrett Universal II, Kane, Hill-RBF, Haigis, Holladay, SRK/T & advanced AI models",href:"#formulas"},{icon:Qt,title:"Medical Grade Security",description:"HIPAA-compliant processing, zero data retention, encrypted transmission",href:"#privacy"}];return a.jsxs("div",{className:"min-h-screen bg-white",children:[a.jsx("header",{className:"border-b border-gray-100",children:a.jsxs("div",{className:"flex items-center justify-between px-6 py-4 max-w-6xl mx-auto",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 bg-[#1b2951] rounded-lg flex items-center justify-center p-1",children:a.jsx("img",{src:Vi,alt:"LakeCalc.ai",className:"w-full h-full object-contain"})}),a.jsx("h1",{className:"text-xl font-medium text-gray-900 tracking-tight",children:"lakecalc.ai"})]}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsxs("button",{className:"flex items-center space-x-2 px-3 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-50 rounded-lg transition-all duration-200",children:[a.jsx(Wi,{size:18}),a.jsx("span",{className:"hidden sm:inline text-sm font-medium",children:"Login"})]}),a.jsx("button",{className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-50 rounded-lg transition-all duration-200",children:a.jsx(qi,{size:20})})]})]})}),a.jsxs("main",{className:"max-w-4xl mx-auto px-6",children:[a.jsxs("div",{className:"text-center pt-16 pb-12",children:[a.jsxs("h1",{className:"text-4xl md:text-5xl font-light text-gray-900 mb-6 leading-tight tracking-tight",children:[a.jsx("span",{className:"font-medium bg-gradient-to-r from-[#1b2951] to-[#2a3f6b] bg-clip-text text-transparent",children:"AI agent"}),a.jsx("br",{}),"for IOL calculation"]}),a.jsx("p",{className:"text-lg text-gray-600 mb-12 max-w-2xl mx-auto leading-relaxed",children:"Upload biometry PDFs and receive comprehensive IOL power calculations using advanced formulas and AI-powered analysis."})]}),a.jsx("div",{className:"mb-16",children:a.jsxs("div",{className:`relative border-2 border-dashed rounded-2xl p-12 text-center transition-all duration-300 ${e?"border-[#1b2951]/30 bg-[#1b2951]/5":"border-gray-200 bg-gray-50/50 hover:border-gray-300 hover:bg-gray-50"}`,onDragOver:l,onDragLeave:f,onDrop:u,children:[a.jsx("input",{ref:o,type:"file",accept:".pdf",multiple:!0,onChange:p,className:"hidden"}),a.jsxs("div",{className:"flex flex-col items-center space-y-6",children:[a.jsx("div",{className:`p-4 rounded-2xl transition-all duration-300 ${e?"bg-[#1b2951]/10 scale-110":"bg-white shadow-sm"}`,children:a.jsx(Mt,{size:32,className:e?"text-[#1b2951]":"text-gray-500"})}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-xl font-medium text-gray-900",children:"Upload your biometry PDFs"}),a.jsx("p",{className:"text-gray-600 max-w-md mx-auto",children:"Drag and drop multiple PDF files here, or click to browse. Supports all major biometry devices."}),s.length>0&&a.jsx("div",{className:"max-w-md mx-auto space-y-2",children:s.map((d,h)=>a.jsxs("div",{className:"flex items-center justify-between bg-white p-3 rounded-lg border",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(dt,{size:16,className:"text-[#1b2951]"}),a.jsx("span",{className:"text-sm text-gray-700 truncate max-w-48",children:d.name})]}),a.jsx("button",{onClick:()=>m(h),className:"text-gray-400 hover:text-red-500 transition-colors",children:"×"})]},h))}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 items-center justify-center",children:[a.jsxs("button",{onClick:E,disabled:i,className:"inline-flex items-center space-x-2 bg-gray-100 text-gray-700 px-6 py-3 rounded-xl hover:bg-gray-200 transition-all duration-200 font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:[a.jsx("span",{children:"Choose Files"}),a.jsx(Ot,{size:16})]}),s.length>0&&a.jsxs("button",{onClick:w,disabled:i,className:"inline-flex items-center space-x-2 bg-[#1b2951] text-white px-6 py-3 rounded-xl hover:bg-[#2a3f6b] transition-all duration-200 font-medium shadow-sm hover:shadow-md disabled:opacity-50 disabled:cursor-not-allowed",children:[a.jsx("span",{children:i?"Processing...":`Calculate ${s.length} file${s.length>1?"s":""}`}),!i&&a.jsx(Ot,{size:16})]})]})]})]}),a.jsxs("div",{className:"mt-8 flex items-center justify-center space-x-8 text-sm text-gray-500",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),a.jsx("span",{children:"8+ devices supported"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-2 h-2 bg-[#1b2951] rounded-full"}),a.jsx("span",{children:"30+ formulas available"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full"}),a.jsx("span",{children:"Multiple files supported"})]})]})]})}),a.jsx("div",{className:"grid md:grid-cols-3 gap-6 mb-16",children:v.map((d,h)=>a.jsx("div",{className:"group p-6 bg-white border border-gray-100 rounded-2xl hover:border-gray-200 hover:shadow-lg transition-all duration-300",children:a.jsxs("div",{className:"flex flex-col space-y-4",children:[a.jsx("div",{className:"w-12 h-12 bg-gray-50 rounded-xl flex items-center justify-center group-hover:bg-[#1b2951]/5 transition-colors duration-300",children:a.jsx(d.icon,{size:24,className:"text-gray-600 group-hover:text-[#1b2951] transition-colors duration-300"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900 mb-2 group-hover:text-[#1b2951] transition-colors duration-300",children:d.title}),a.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:d.description})]})]})},h))}),a.jsxs("div",{className:"bg-amber-50 border border-amber-100 rounded-2xl p-8 text-center mb-16",children:[a.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-4",children:[a.jsx("div",{className:"w-8 h-8 bg-amber-100 rounded-lg flex items-center justify-center",children:a.jsx(Qt,{size:18,className:"text-amber-600"})}),a.jsx("h3",{className:"font-medium text-amber-900",children:"Medical Disclaimer"})]}),a.jsx("p",{className:"text-sm text-amber-800 leading-relaxed max-w-3xl mx-auto",children:"This AI agent is designed to assist ophthalmologists with IOL power calculations. All results should be verified by qualified medical professionals. This tool is not intended to replace clinical judgment or professional medical advice. Always consult with appropriate medical professionals for patient care decisions."})]})]}),a.jsx("footer",{className:"border-t border-gray-100 py-8",children:a.jsx("div",{className:"text-center text-gray-500 text-sm",children:a.jsx("p",{children:"© 2025 LakeCalc.ai • AI Agent for IOL Calculation"})})})]})}var Da={exports:{}},Zi="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Qi=Zi,Xi=Qi;function Ra(){}function Ca(){}Ca.resetWarningCache=Ra;var Yi=function(){function e(n,s,r,o,l,f){if(f!==Xi){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var i={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Ca,resetWarningCache:Ra};return i.PropTypes=i,i};Da.exports=Yi();var en=Da.exports;const C=xi(en);function fe(e,t,i,n){function s(r){return r instanceof i?r:new i(function(o){o(r)})}return new(i||(i=Promise))(function(r,o){function l(p){try{u(n.next(p))}catch(m){o(m)}}function f(p){try{u(n.throw(p))}catch(m){o(m)}}function u(p){p.done?r(p.value):s(p.value).then(l,f)}u((n=n.apply(e,t||[])).next())})}const tn=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function Ne(e,t,i){const n=an(e),{webkitRelativePath:s}=e,r=typeof t=="string"?t:typeof s=="string"&&s.length>0?s:`./${e.name}`;return typeof n.path!="string"&&Xt(n,"path",r),i!==void 0&&Object.defineProperty(n,"handle",{value:i,writable:!1,configurable:!1,enumerable:!0}),Xt(n,"relativePath",r),n}function an(e){const{name:t}=e;if(t&&t.lastIndexOf(".")!==-1&&!e.type){const n=t.split(".").pop().toLowerCase(),s=tn.get(n);s&&Object.defineProperty(e,"type",{value:s,writable:!1,configurable:!1,enumerable:!0})}return e}function Xt(e,t,i){Object.defineProperty(e,t,{value:i,writable:!1,configurable:!1,enumerable:!0})}const nn=[".DS_Store","Thumbs.db"];function sn(e){return fe(this,void 0,void 0,function*(){return it(e)&&rn(e.dataTransfer)?dn(e.dataTransfer,e.type):on(e)?ln(e):Array.isArray(e)&&e.every(t=>"getFile"in t&&typeof t.getFile=="function")?cn(e):[]})}function rn(e){return it(e)}function on(e){return it(e)&&it(e.target)}function it(e){return typeof e=="object"&&e!==null}function ln(e){return At(e.target.files).map(t=>Ne(t))}function cn(e){return fe(this,void 0,void 0,function*(){return(yield Promise.all(e.map(i=>i.getFile()))).map(i=>Ne(i))})}function dn(e,t){return fe(this,void 0,void 0,function*(){if(e.items){const i=At(e.items).filter(s=>s.kind==="file");if(t!=="drop")return i;const n=yield Promise.all(i.map(pn));return Yt(Ta(n))}return Yt(At(e.files).map(i=>Ne(i)))})}function Yt(e){return e.filter(t=>nn.indexOf(t.name)===-1)}function At(e){if(e===null)return[];const t=[];for(let i=0;i<e.length;i++){const n=e[i];t.push(n)}return t}function pn(e){if(typeof e.webkitGetAsEntry!="function")return ea(e);const t=e.webkitGetAsEntry();return t&&t.isDirectory?Fa(t):ea(e,t)}function Ta(e){return e.reduce((t,i)=>[...t,...Array.isArray(i)?Ta(i):[i]],[])}function ea(e,t){return fe(this,void 0,void 0,function*(){var i;if(globalThis.isSecureContext&&typeof e.getAsFileSystemHandle=="function"){const r=yield e.getAsFileSystemHandle();if(r===null)throw new Error(`${e} is not a File`);if(r!==void 0){const o=yield r.getFile();return o.handle=r,Ne(o)}}const n=e.getAsFile();if(!n)throw new Error(`${e} is not a File`);return Ne(n,(i=t==null?void 0:t.fullPath)!==null&&i!==void 0?i:void 0)})}function mn(e){return fe(this,void 0,void 0,function*(){return e.isDirectory?Fa(e):un(e)})}function Fa(e){const t=e.createReader();return new Promise((i,n)=>{const s=[];function r(){t.readEntries(o=>fe(this,void 0,void 0,function*(){if(o.length){const l=Promise.all(o.map(mn));s.push(l),r()}else try{const l=yield Promise.all(s);i(l)}catch(l){n(l)}}),o=>{n(o)})}r()})}function un(e){return fe(this,void 0,void 0,function*(){return new Promise((t,i)=>{e.file(n=>{const s=Ne(n,e.fullPath);t(s)},n=>{i(n)})})})}var jt=function(e,t){if(e&&t){var i=Array.isArray(t)?t:t.split(",");if(i.length===0)return!0;var n=e.name||"",s=(e.type||"").toLowerCase(),r=s.replace(/\/.*$/,"");return i.some(function(o){var l=o.trim().toLowerCase();return l.charAt(0)==="."?n.toLowerCase().endsWith(l):l.endsWith("/*")?r===l.replace(/\/.*$/,""):s===l})}return!0};function ta(e){return hn(e)||fn(e)||Pa(e)||xn()}function xn(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fn(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function hn(e){if(Array.isArray(e))return Dt(e)}function aa(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),i.push.apply(i,n)}return i}function ia(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?aa(Object(i),!0).forEach(function(n){_a(e,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):aa(Object(i)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))})}return e}function _a(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Ue(e,t){return yn(e)||vn(e,t)||Pa(e,t)||gn()}function gn(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pa(e,t){if(e){if(typeof e=="string")return Dt(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);if(i==="Object"&&e.constructor&&(i=e.constructor.name),i==="Map"||i==="Set")return Array.from(e);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Dt(e,t)}}function Dt(e,t){(t==null||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function vn(e,t){var i=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(i!=null){var n=[],s=!0,r=!1,o,l;try{for(i=i.call(e);!(s=(o=i.next()).done)&&(n.push(o.value),!(t&&n.length===t));s=!0);}catch(f){r=!0,l=f}finally{try{!s&&i.return!=null&&i.return()}finally{if(r)throw l}}return n}}function yn(e){if(Array.isArray(e))return e}var bn=typeof jt=="function"?jt:jt.default,jn="file-invalid-type",wn="file-too-large",Nn="file-too-small",kn="too-many-files",Sn=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",i=t.split(","),n=i.length>1?"one of ".concat(i.join(", ")):i[0];return{code:jn,message:"File type must be ".concat(n)}},na=function(t){return{code:wn,message:"File is larger than ".concat(t," ").concat(t===1?"byte":"bytes")}},sa=function(t){return{code:Nn,message:"File is smaller than ".concat(t," ").concat(t===1?"byte":"bytes")}},En={code:kn,message:"Too many files"};function La(e,t){var i=e.type==="application/x-moz-file"||bn(e,t);return[i,i?null:Sn(t)]}function Ia(e,t,i){if(me(e.size))if(me(t)&&me(i)){if(e.size>i)return[!1,na(i)];if(e.size<t)return[!1,sa(t)]}else{if(me(t)&&e.size<t)return[!1,sa(t)];if(me(i)&&e.size>i)return[!1,na(i)]}return[!0,null]}function me(e){return e!=null}function On(e){var t=e.files,i=e.accept,n=e.minSize,s=e.maxSize,r=e.multiple,o=e.maxFiles,l=e.validator;return!r&&t.length>1||r&&o>=1&&t.length>o?!1:t.every(function(f){var u=La(f,i),p=Ue(u,1),m=p[0],w=Ia(f,n,s),E=Ue(w,1),v=E[0],d=l?l(f):null;return m&&v&&!d})}function nt(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function Qe(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(t){return t==="Files"||t==="application/x-moz-file"}):!!e.target&&!!e.target.files}function ra(e){e.preventDefault()}function An(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function Dn(e){return e.indexOf("Edge/")!==-1}function Rn(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return An(e)||Dn(e)}function ee(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return function(n){for(var s=arguments.length,r=new Array(s>1?s-1:0),o=1;o<s;o++)r[o-1]=arguments[o];return t.some(function(l){return!nt(n)&&l&&l.apply(void 0,[n].concat(r)),nt(n)})}}function Cn(){return"showOpenFilePicker"in window}function Tn(e){if(me(e)){var t=Object.entries(e).filter(function(i){var n=Ue(i,2),s=n[0],r=n[1],o=!0;return za(s)||(console.warn('Skipped "'.concat(s,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),o=!1),(!Array.isArray(r)||!r.every(Ma))&&(console.warn('Skipped "'.concat(s,'" because an invalid file extension was provided.')),o=!1),o}).reduce(function(i,n){var s=Ue(n,2),r=s[0],o=s[1];return ia(ia({},i),{},_a({},r,o))},{});return[{description:"Files",accept:t}]}return e}function Fn(e){if(me(e))return Object.entries(e).reduce(function(t,i){var n=Ue(i,2),s=n[0],r=n[1];return[].concat(ta(t),[s],ta(r))},[]).filter(function(t){return za(t)||Ma(t)}).join(",")}function _n(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function Pn(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function za(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||e==="application/*"||/\w+\/[-+.\w]+/g.test(e)}function Ma(e){return/^.*\.[\w]+$/.test(e)}var Ln=["children"],In=["open"],zn=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],Mn=["refKey","onChange","onClick"];function Un(e){return $n(e)||Bn(e)||Ua(e)||qn()}function qn(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bn(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function $n(e){if(Array.isArray(e))return Rt(e)}function wt(e,t){return Wn(e)||Kn(e,t)||Ua(e,t)||Hn()}function Hn(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ua(e,t){if(e){if(typeof e=="string")return Rt(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);if(i==="Object"&&e.constructor&&(i=e.constructor.name),i==="Map"||i==="Set")return Array.from(e);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Rt(e,t)}}function Rt(e,t){(t==null||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function Kn(e,t){var i=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(i!=null){var n=[],s=!0,r=!1,o,l;try{for(i=i.call(e);!(s=(o=i.next()).done)&&(n.push(o.value),!(t&&n.length===t));s=!0);}catch(f){r=!0,l=f}finally{try{!s&&i.return!=null&&i.return()}finally{if(r)throw l}}return n}}function Wn(e){if(Array.isArray(e))return e}function oa(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),i.push.apply(i,n)}return i}function F(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?oa(Object(i),!0).forEach(function(n){Ct(e,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):oa(Object(i)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))})}return e}function Ct(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function st(e,t){if(e==null)return{};var i=Jn(e,t),n,s;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(s=0;s<r.length;s++)n=r[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Jn(e,t){if(e==null)return{};var i={},n=Object.keys(e),s,r;for(r=0;r<n.length;r++)s=n[r],!(t.indexOf(s)>=0)&&(i[s]=e[s]);return i}var Ut=b.forwardRef(function(e,t){var i=e.children,n=st(e,Ln),s=Ba(n),r=s.open,o=st(s,In);return b.useImperativeHandle(t,function(){return{open:r}},[r]),wa.createElement(b.Fragment,null,i(F(F({},o),{},{open:r})))});Ut.displayName="Dropzone";var qa={disabled:!1,getFilesFromEvent:sn,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};Ut.defaultProps=qa;Ut.propTypes={children:C.func,accept:C.objectOf(C.arrayOf(C.string)),multiple:C.bool,preventDropOnDocument:C.bool,noClick:C.bool,noKeyboard:C.bool,noDrag:C.bool,noDragEventsBubbling:C.bool,minSize:C.number,maxSize:C.number,maxFiles:C.number,disabled:C.bool,getFilesFromEvent:C.func,onFileDialogCancel:C.func,onFileDialogOpen:C.func,useFsAccessApi:C.bool,autoFocus:C.bool,onDragEnter:C.func,onDragLeave:C.func,onDragOver:C.func,onDrop:C.func,onDropAccepted:C.func,onDropRejected:C.func,onError:C.func,validator:C.func};var Tt={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function Ba(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=F(F({},qa),e),i=t.accept,n=t.disabled,s=t.getFilesFromEvent,r=t.maxSize,o=t.minSize,l=t.multiple,f=t.maxFiles,u=t.onDragEnter,p=t.onDragLeave,m=t.onDragOver,w=t.onDrop,E=t.onDropAccepted,v=t.onDropRejected,d=t.onFileDialogCancel,h=t.onFileDialogOpen,g=t.useFsAccessApi,N=t.autoFocus,D=t.preventDropOnDocument,$=t.noClick,_=t.noKeyboard,K=t.noDrag,z=t.noDragEventsBubbling,G=t.onError,Z=t.validator,se=b.useMemo(function(){return Fn(i)},[i]),Ee=b.useMemo(function(){return Tn(i)},[i]),he=b.useMemo(function(){return typeof h=="function"?h:la},[h]),re=b.useMemo(function(){return typeof d=="function"?d:la},[d]),M=b.useRef(null),H=b.useRef(null),Ke=b.useReducer(Vn,Tt),Oe=wt(Ke,2),ge=Oe[0],q=Oe[1],We=ge.isFocused,Ae=ge.isFileDialogActive,oe=b.useRef(typeof window<"u"&&window.isSecureContext&&g&&Cn()),De=function(){!oe.current&&Ae&&setTimeout(function(){if(H.current){var x=H.current.files;x.length||(q({type:"closeDialog"}),re())}},300)};b.useEffect(function(){return window.addEventListener("focus",De,!1),function(){window.removeEventListener("focus",De,!1)}},[H,Ae,re,oe]);var ae=b.useRef([]),Re=function(x){M.current&&M.current.contains(x.target)||(x.preventDefault(),ae.current=[])};b.useEffect(function(){return D&&(document.addEventListener("dragover",ra,!1),document.addEventListener("drop",Re,!1)),function(){D&&(document.removeEventListener("dragover",ra),document.removeEventListener("drop",Re))}},[M,D]),b.useEffect(function(){return!n&&N&&M.current&&M.current.focus(),function(){}},[M,N,n]);var Y=b.useCallback(function(y){G?G(y):console.error(y)},[G]),Ce=b.useCallback(function(y){y.preventDefault(),y.persist(),pe(y),ae.current=[].concat(Un(ae.current),[y.target]),Qe(y)&&Promise.resolve(s(y)).then(function(x){if(!(nt(y)&&!z)){var j=x.length,k=j>0&&On({files:x,accept:se,minSize:o,maxSize:r,multiple:l,maxFiles:f,validator:Z}),O=j>0&&!k;q({isDragAccept:k,isDragReject:O,isDragActive:!0,type:"setDraggedFiles"}),u&&u(y)}}).catch(function(x){return Y(x)})},[s,u,Y,z,se,o,r,l,f,Z]),Te=b.useCallback(function(y){y.preventDefault(),y.persist(),pe(y);var x=Qe(y);if(x&&y.dataTransfer)try{y.dataTransfer.dropEffect="copy"}catch{}return x&&m&&m(y),!1},[m,z]),Fe=b.useCallback(function(y){y.preventDefault(),y.persist(),pe(y);var x=ae.current.filter(function(k){return M.current&&M.current.contains(k)}),j=x.indexOf(y.target);j!==-1&&x.splice(j,1),ae.current=x,!(x.length>0)&&(q({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),Qe(y)&&p&&p(y))},[M,p,z]),le=b.useCallback(function(y,x){var j=[],k=[];y.forEach(function(O){var A=La(O,se),R=wt(A,2),P=R[0],L=R[1],U=Ia(O,o,r),J=wt(U,2),V=J[0],ye=J[1],be=Z?Z(O):null;if(P&&V&&!be)j.push(O);else{var je=[L,ye];be&&(je=je.concat(be)),k.push({file:O,errors:je.filter(function(Ze){return Ze})})}}),(!l&&j.length>1||l&&f>=1&&j.length>f)&&(j.forEach(function(O){k.push({file:O,errors:[En]})}),j.splice(0)),q({acceptedFiles:j,fileRejections:k,isDragReject:k.length>0,type:"setFiles"}),w&&w(j,k,x),k.length>0&&v&&v(k,x),j.length>0&&E&&E(j,x)},[q,l,se,o,r,f,w,E,v,Z]),ce=b.useCallback(function(y){y.preventDefault(),y.persist(),pe(y),ae.current=[],Qe(y)&&Promise.resolve(s(y)).then(function(x){nt(y)&&!z||le(x,y)}).catch(function(x){return Y(x)}),q({type:"reset"})},[s,le,Y,z]),ie=b.useCallback(function(){if(oe.current){q({type:"openDialog"}),he();var y={multiple:l,types:Ee};window.showOpenFilePicker(y).then(function(x){return s(x)}).then(function(x){le(x,null),q({type:"closeDialog"})}).catch(function(x){_n(x)?(re(x),q({type:"closeDialog"})):Pn(x)?(oe.current=!1,H.current?(H.current.value=null,H.current.click()):Y(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):Y(x)});return}H.current&&(q({type:"openDialog"}),he(),H.current.value=null,H.current.click())},[q,he,re,g,le,Y,Ee,l]),_e=b.useCallback(function(y){!M.current||!M.current.isEqualNode(y.target)||(y.key===" "||y.key==="Enter"||y.keyCode===32||y.keyCode===13)&&(y.preventDefault(),ie())},[M,ie]),Pe=b.useCallback(function(){q({type:"focus"})},[]),Le=b.useCallback(function(){q({type:"blur"})},[]),Ie=b.useCallback(function(){$||(Rn()?setTimeout(ie,0):ie())},[$,ie]),ne=function(x){return n?null:x},ve=function(x){return _?null:ne(x)},de=function(x){return K?null:ne(x)},pe=function(x){z&&x.stopPropagation()},Je=b.useMemo(function(){return function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},x=y.refKey,j=x===void 0?"ref":x,k=y.role,O=y.onKeyDown,A=y.onFocus,R=y.onBlur,P=y.onClick,L=y.onDragEnter,U=y.onDragOver,J=y.onDragLeave,V=y.onDrop,ye=st(y,zn);return F(F(Ct({onKeyDown:ve(ee(O,_e)),onFocus:ve(ee(A,Pe)),onBlur:ve(ee(R,Le)),onClick:ne(ee(P,Ie)),onDragEnter:de(ee(L,Ce)),onDragOver:de(ee(U,Te)),onDragLeave:de(ee(J,Fe)),onDrop:de(ee(V,ce)),role:typeof k=="string"&&k!==""?k:"presentation"},j,M),!n&&!_?{tabIndex:0}:{}),ye)}},[M,_e,Pe,Le,Ie,Ce,Te,Fe,ce,_,K,n]),Ve=b.useCallback(function(y){y.stopPropagation()},[]),Ge=b.useMemo(function(){return function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},x=y.refKey,j=x===void 0?"ref":x,k=y.onChange,O=y.onClick,A=st(y,Mn),R=Ct({accept:se,multiple:l,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:ne(ee(k,ce)),onClick:ne(ee(O,Ve)),tabIndex:-1},j,H);return F(F({},R),A)}},[H,i,l,ce,n]);return F(F({},ge),{},{isFocused:We&&!n,getRootProps:Je,getInputProps:Ge,rootRef:M,inputRef:H,open:ne(ie)})}function Vn(e,t){switch(t.type){case"focus":return F(F({},e),{},{isFocused:!0});case"blur":return F(F({},e),{},{isFocused:!1});case"openDialog":return F(F({},Tt),{},{isFileDialogActive:!0});case"closeDialog":return F(F({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return F(F({},e),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return F(F({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections,isDragReject:t.isDragReject});case"reset":return F({},Tt);default:return e}}function la(){}function $a(e,t){return function(){return e.apply(t,arguments)}}const{toString:Gn}=Object.prototype,{getPrototypeOf:qt}=Object,{iterator:pt,toStringTag:Ha}=Symbol,mt=(e=>t=>{const i=Gn.call(t);return e[i]||(e[i]=i.slice(8,-1).toLowerCase())})(Object.create(null)),X=e=>(e=e.toLowerCase(),t=>mt(t)===e),ut=e=>t=>typeof t===e,{isArray:ke}=Array,qe=ut("undefined");function Be(e){return e!==null&&!qe(e)&&e.constructor!==null&&!qe(e.constructor)&&W(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Ka=X("ArrayBuffer");function Zn(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Ka(e.buffer),t}const Qn=ut("string"),W=ut("function"),Wa=ut("number"),$e=e=>e!==null&&typeof e=="object",Xn=e=>e===!0||e===!1,Xe=e=>{if(mt(e)!=="object")return!1;const t=qt(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Ha in e)&&!(pt in e)},Yn=e=>{if(!$e(e)||Be(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},es=X("Date"),ts=X("File"),as=X("Blob"),is=X("FileList"),ns=e=>$e(e)&&W(e.pipe),ss=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||W(e.append)&&((t=mt(e))==="formdata"||t==="object"&&W(e.toString)&&e.toString()==="[object FormData]"))},rs=X("URLSearchParams"),[os,ls,cs,ds]=["ReadableStream","Request","Response","Headers"].map(X),ps=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function He(e,t,{allOwnKeys:i=!1}={}){if(e===null||typeof e>"u")return;let n,s;if(typeof e!="object"&&(e=[e]),ke(e))for(n=0,s=e.length;n<s;n++)t.call(null,e[n],n,e);else{if(Be(e))return;const r=i?Object.getOwnPropertyNames(e):Object.keys(e),o=r.length;let l;for(n=0;n<o;n++)l=r[n],t.call(null,e[l],l,e)}}function Ja(e,t){if(Be(e))return null;t=t.toLowerCase();const i=Object.keys(e);let n=i.length,s;for(;n-- >0;)if(s=i[n],t===s.toLowerCase())return s;return null}const ue=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),Va=e=>!qe(e)&&e!==ue;function Ft(){const{caseless:e}=Va(this)&&this||{},t={},i=(n,s)=>{const r=e&&Ja(t,s)||s;Xe(t[r])&&Xe(n)?t[r]=Ft(t[r],n):Xe(n)?t[r]=Ft({},n):ke(n)?t[r]=n.slice():t[r]=n};for(let n=0,s=arguments.length;n<s;n++)arguments[n]&&He(arguments[n],i);return t}const ms=(e,t,i,{allOwnKeys:n}={})=>(He(t,(s,r)=>{i&&W(s)?e[r]=$a(s,i):e[r]=s},{allOwnKeys:n}),e),us=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),xs=(e,t,i,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),i&&Object.assign(e.prototype,i)},fs=(e,t,i,n)=>{let s,r,o;const l={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),r=s.length;r-- >0;)o=s[r],(!n||n(o,e,t))&&!l[o]&&(t[o]=e[o],l[o]=!0);e=i!==!1&&qt(e)}while(e&&(!i||i(e,t))&&e!==Object.prototype);return t},hs=(e,t,i)=>{e=String(e),(i===void 0||i>e.length)&&(i=e.length),i-=t.length;const n=e.indexOf(t,i);return n!==-1&&n===i},gs=e=>{if(!e)return null;if(ke(e))return e;let t=e.length;if(!Wa(t))return null;const i=new Array(t);for(;t-- >0;)i[t]=e[t];return i},vs=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&qt(Uint8Array)),ys=(e,t)=>{const n=(e&&e[pt]).call(e);let s;for(;(s=n.next())&&!s.done;){const r=s.value;t.call(e,r[0],r[1])}},bs=(e,t)=>{let i;const n=[];for(;(i=e.exec(t))!==null;)n.push(i);return n},js=X("HTMLFormElement"),ws=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(i,n,s){return n.toUpperCase()+s}),ca=(({hasOwnProperty:e})=>(t,i)=>e.call(t,i))(Object.prototype),Ns=X("RegExp"),Ga=(e,t)=>{const i=Object.getOwnPropertyDescriptors(e),n={};He(i,(s,r)=>{let o;(o=t(s,r,e))!==!1&&(n[r]=o||s)}),Object.defineProperties(e,n)},ks=e=>{Ga(e,(t,i)=>{if(W(e)&&["arguments","caller","callee"].indexOf(i)!==-1)return!1;const n=e[i];if(W(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+i+"'")})}})},Ss=(e,t)=>{const i={},n=s=>{s.forEach(r=>{i[r]=!0})};return ke(e)?n(e):n(String(e).split(t)),i},Es=()=>{},Os=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function As(e){return!!(e&&W(e.append)&&e[Ha]==="FormData"&&e[pt])}const Ds=e=>{const t=new Array(10),i=(n,s)=>{if($e(n)){if(t.indexOf(n)>=0)return;if(Be(n))return n;if(!("toJSON"in n)){t[s]=n;const r=ke(n)?[]:{};return He(n,(o,l)=>{const f=i(o,s+1);!qe(f)&&(r[l]=f)}),t[s]=void 0,r}}return n};return i(e,0)},Rs=X("AsyncFunction"),Cs=e=>e&&($e(e)||W(e))&&W(e.then)&&W(e.catch),Za=((e,t)=>e?setImmediate:t?((i,n)=>(ue.addEventListener("message",({source:s,data:r})=>{s===ue&&r===i&&n.length&&n.shift()()},!1),s=>{n.push(s),ue.postMessage(i,"*")}))(`axios@${Math.random()}`,[]):i=>setTimeout(i))(typeof setImmediate=="function",W(ue.postMessage)),Ts=typeof queueMicrotask<"u"?queueMicrotask.bind(ue):typeof process<"u"&&process.nextTick||Za,Fs=e=>e!=null&&W(e[pt]),c={isArray:ke,isArrayBuffer:Ka,isBuffer:Be,isFormData:ss,isArrayBufferView:Zn,isString:Qn,isNumber:Wa,isBoolean:Xn,isObject:$e,isPlainObject:Xe,isEmptyObject:Yn,isReadableStream:os,isRequest:ls,isResponse:cs,isHeaders:ds,isUndefined:qe,isDate:es,isFile:ts,isBlob:as,isRegExp:Ns,isFunction:W,isStream:ns,isURLSearchParams:rs,isTypedArray:vs,isFileList:is,forEach:He,merge:Ft,extend:ms,trim:ps,stripBOM:us,inherits:xs,toFlatObject:fs,kindOf:mt,kindOfTest:X,endsWith:hs,toArray:gs,forEachEntry:ys,matchAll:bs,isHTMLForm:js,hasOwnProperty:ca,hasOwnProp:ca,reduceDescriptors:Ga,freezeMethods:ks,toObjectSet:Ss,toCamelCase:ws,noop:Es,toFiniteNumber:Os,findKey:Ja,global:ue,isContextDefined:Va,isSpecCompliantForm:As,toJSONObject:Ds,isAsyncFn:Rs,isThenable:Cs,setImmediate:Za,asap:Ts,isIterable:Fs};function S(e,t,i,n,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),i&&(this.config=i),n&&(this.request=n),s&&(this.response=s,this.status=s.status?s.status:null)}c.inherits(S,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:c.toJSONObject(this.config),code:this.code,status:this.status}}});const Qa=S.prototype,Xa={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Xa[e]={value:e}});Object.defineProperties(S,Xa);Object.defineProperty(Qa,"isAxiosError",{value:!0});S.from=(e,t,i,n,s,r)=>{const o=Object.create(Qa);return c.toFlatObject(e,o,function(f){return f!==Error.prototype},l=>l!=="isAxiosError"),S.call(o,e.message,t,i,n,s),o.cause=e,o.name=e.name,r&&Object.assign(o,r),o};const _s=null;function _t(e){return c.isPlainObject(e)||c.isArray(e)}function Ya(e){return c.endsWith(e,"[]")?e.slice(0,-2):e}function da(e,t,i){return e?e.concat(t).map(function(s,r){return s=Ya(s),!i&&r?"["+s+"]":s}).join(i?".":""):t}function Ps(e){return c.isArray(e)&&!e.some(_t)}const Ls=c.toFlatObject(c,{},null,function(t){return/^is[A-Z]/.test(t)});function xt(e,t,i){if(!c.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,i=c.toFlatObject(i,{metaTokens:!0,dots:!1,indexes:!1},!1,function(d,h){return!c.isUndefined(h[d])});const n=i.metaTokens,s=i.visitor||p,r=i.dots,o=i.indexes,f=(i.Blob||typeof Blob<"u"&&Blob)&&c.isSpecCompliantForm(t);if(!c.isFunction(s))throw new TypeError("visitor must be a function");function u(v){if(v===null)return"";if(c.isDate(v))return v.toISOString();if(c.isBoolean(v))return v.toString();if(!f&&c.isBlob(v))throw new S("Blob is not supported. Use a Buffer instead.");return c.isArrayBuffer(v)||c.isTypedArray(v)?f&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function p(v,d,h){let g=v;if(v&&!h&&typeof v=="object"){if(c.endsWith(d,"{}"))d=n?d:d.slice(0,-2),v=JSON.stringify(v);else if(c.isArray(v)&&Ps(v)||(c.isFileList(v)||c.endsWith(d,"[]"))&&(g=c.toArray(v)))return d=Ya(d),g.forEach(function(D,$){!(c.isUndefined(D)||D===null)&&t.append(o===!0?da([d],$,r):o===null?d:d+"[]",u(D))}),!1}return _t(v)?!0:(t.append(da(h,d,r),u(v)),!1)}const m=[],w=Object.assign(Ls,{defaultVisitor:p,convertValue:u,isVisitable:_t});function E(v,d){if(!c.isUndefined(v)){if(m.indexOf(v)!==-1)throw Error("Circular reference detected in "+d.join("."));m.push(v),c.forEach(v,function(g,N){(!(c.isUndefined(g)||g===null)&&s.call(t,g,c.isString(N)?N.trim():N,d,w))===!0&&E(g,d?d.concat(N):[N])}),m.pop()}}if(!c.isObject(e))throw new TypeError("data must be an object");return E(e),t}function pa(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function Bt(e,t){this._pairs=[],e&&xt(e,this,t)}const ei=Bt.prototype;ei.append=function(t,i){this._pairs.push([t,i])};ei.toString=function(t){const i=t?function(n){return t.call(this,n,pa)}:pa;return this._pairs.map(function(s){return i(s[0])+"="+i(s[1])},"").join("&")};function Is(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ti(e,t,i){if(!t)return e;const n=i&&i.encode||Is;c.isFunction(i)&&(i={serialize:i});const s=i&&i.serialize;let r;if(s?r=s(t,i):r=c.isURLSearchParams(t)?t.toString():new Bt(t,i).toString(n),r){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+r}return e}class zs{constructor(){this.handlers=[]}use(t,i,n){return this.handlers.push({fulfilled:t,rejected:i,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){c.forEach(this.handlers,function(n){n!==null&&t(n)})}}const ma=zs,ai={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Ms=typeof URLSearchParams<"u"?URLSearchParams:Bt,Us=typeof FormData<"u"?FormData:null,qs=typeof Blob<"u"?Blob:null,Bs={isBrowser:!0,classes:{URLSearchParams:Ms,FormData:Us,Blob:qs},protocols:["http","https","file","blob","url","data"]},$t=typeof window<"u"&&typeof document<"u",Pt=typeof navigator=="object"&&navigator||void 0,$s=$t&&(!Pt||["ReactNative","NativeScript","NS"].indexOf(Pt.product)<0),Hs=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),Ks=$t&&window.location.href||"http://localhost",Ws=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:$t,hasStandardBrowserEnv:$s,hasStandardBrowserWebWorkerEnv:Hs,navigator:Pt,origin:Ks},Symbol.toStringTag,{value:"Module"})),B={...Ws,...Bs};function Js(e,t){return xt(e,new B.classes.URLSearchParams,{visitor:function(i,n,s,r){return B.isNode&&c.isBuffer(i)?(this.append(n,i.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)},...t})}function Vs(e){return c.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Gs(e){const t={},i=Object.keys(e);let n;const s=i.length;let r;for(n=0;n<s;n++)r=i[n],t[r]=e[r];return t}function ii(e){function t(i,n,s,r){let o=i[r++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),f=r>=i.length;return o=!o&&c.isArray(s)?s.length:o,f?(c.hasOwnProp(s,o)?s[o]=[s[o],n]:s[o]=n,!l):((!s[o]||!c.isObject(s[o]))&&(s[o]=[]),t(i,n,s[o],r)&&c.isArray(s[o])&&(s[o]=Gs(s[o])),!l)}if(c.isFormData(e)&&c.isFunction(e.entries)){const i={};return c.forEachEntry(e,(n,s)=>{t(Vs(n),s,i,0)}),i}return null}function Zs(e,t,i){if(c.isString(e))try{return(t||JSON.parse)(e),c.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(i||JSON.stringify)(e)}const Ht={transitional:ai,adapter:["xhr","http","fetch"],transformRequest:[function(t,i){const n=i.getContentType()||"",s=n.indexOf("application/json")>-1,r=c.isObject(t);if(r&&c.isHTMLForm(t)&&(t=new FormData(t)),c.isFormData(t))return s?JSON.stringify(ii(t)):t;if(c.isArrayBuffer(t)||c.isBuffer(t)||c.isStream(t)||c.isFile(t)||c.isBlob(t)||c.isReadableStream(t))return t;if(c.isArrayBufferView(t))return t.buffer;if(c.isURLSearchParams(t))return i.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(r){if(n.indexOf("application/x-www-form-urlencoded")>-1)return Js(t,this.formSerializer).toString();if((l=c.isFileList(t))||n.indexOf("multipart/form-data")>-1){const f=this.env&&this.env.FormData;return xt(l?{"files[]":t}:t,f&&new f,this.formSerializer)}}return r||s?(i.setContentType("application/json",!1),Zs(t)):t}],transformResponse:[function(t){const i=this.transitional||Ht.transitional,n=i&&i.forcedJSONParsing,s=this.responseType==="json";if(c.isResponse(t)||c.isReadableStream(t))return t;if(t&&c.isString(t)&&(n&&!this.responseType||s)){const o=!(i&&i.silentJSONParsing)&&s;try{return JSON.parse(t)}catch(l){if(o)throw l.name==="SyntaxError"?S.from(l,S.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:B.classes.FormData,Blob:B.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};c.forEach(["delete","get","head","post","put","patch"],e=>{Ht.headers[e]={}});const Kt=Ht,Qs=c.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Xs=e=>{const t={};let i,n,s;return e&&e.split(`
`).forEach(function(o){s=o.indexOf(":"),i=o.substring(0,s).trim().toLowerCase(),n=o.substring(s+1).trim(),!(!i||t[i]&&Qs[i])&&(i==="set-cookie"?t[i]?t[i].push(n):t[i]=[n]:t[i]=t[i]?t[i]+", "+n:n)}),t},ua=Symbol("internals");function ze(e){return e&&String(e).trim().toLowerCase()}function Ye(e){return e===!1||e==null?e:c.isArray(e)?e.map(Ye):String(e)}function Ys(e){const t=Object.create(null),i=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=i.exec(e);)t[n[1]]=n[2];return t}const er=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Nt(e,t,i,n,s){if(c.isFunction(n))return n.call(this,t,i);if(s&&(t=i),!!c.isString(t)){if(c.isString(n))return t.indexOf(n)!==-1;if(c.isRegExp(n))return n.test(t)}}function tr(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,i,n)=>i.toUpperCase()+n)}function ar(e,t){const i=c.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+i,{value:function(s,r,o){return this[n].call(this,t,s,r,o)},configurable:!0})})}class ft{constructor(t){t&&this.set(t)}set(t,i,n){const s=this;function r(l,f,u){const p=ze(f);if(!p)throw new Error("header name must be a non-empty string");const m=c.findKey(s,p);(!m||s[m]===void 0||u===!0||u===void 0&&s[m]!==!1)&&(s[m||f]=Ye(l))}const o=(l,f)=>c.forEach(l,(u,p)=>r(u,p,f));if(c.isPlainObject(t)||t instanceof this.constructor)o(t,i);else if(c.isString(t)&&(t=t.trim())&&!er(t))o(Xs(t),i);else if(c.isObject(t)&&c.isIterable(t)){let l={},f,u;for(const p of t){if(!c.isArray(p))throw TypeError("Object iterator must return a key-value pair");l[u=p[0]]=(f=l[u])?c.isArray(f)?[...f,p[1]]:[f,p[1]]:p[1]}o(l,i)}else t!=null&&r(i,t,n);return this}get(t,i){if(t=ze(t),t){const n=c.findKey(this,t);if(n){const s=this[n];if(!i)return s;if(i===!0)return Ys(s);if(c.isFunction(i))return i.call(this,s,n);if(c.isRegExp(i))return i.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,i){if(t=ze(t),t){const n=c.findKey(this,t);return!!(n&&this[n]!==void 0&&(!i||Nt(this,this[n],n,i)))}return!1}delete(t,i){const n=this;let s=!1;function r(o){if(o=ze(o),o){const l=c.findKey(n,o);l&&(!i||Nt(n,n[l],l,i))&&(delete n[l],s=!0)}}return c.isArray(t)?t.forEach(r):r(t),s}clear(t){const i=Object.keys(this);let n=i.length,s=!1;for(;n--;){const r=i[n];(!t||Nt(this,this[r],r,t,!0))&&(delete this[r],s=!0)}return s}normalize(t){const i=this,n={};return c.forEach(this,(s,r)=>{const o=c.findKey(n,r);if(o){i[o]=Ye(s),delete i[r];return}const l=t?tr(r):String(r).trim();l!==r&&delete i[r],i[l]=Ye(s),n[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const i=Object.create(null);return c.forEach(this,(n,s)=>{n!=null&&n!==!1&&(i[s]=t&&c.isArray(n)?n.join(", "):n)}),i}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,i])=>t+": "+i).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...i){const n=new this(t);return i.forEach(s=>n.set(s)),n}static accessor(t){const n=(this[ua]=this[ua]={accessors:{}}).accessors,s=this.prototype;function r(o){const l=ze(o);n[l]||(ar(s,o),n[l]=!0)}return c.isArray(t)?t.forEach(r):r(t),this}}ft.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);c.reduceDescriptors(ft.prototype,({value:e},t)=>{let i=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[i]=n}}});c.freezeMethods(ft);const Q=ft;function kt(e,t){const i=this||Kt,n=t||i,s=Q.from(n.headers);let r=n.data;return c.forEach(e,function(l){r=l.call(i,r,s.normalize(),t?t.status:void 0)}),s.normalize(),r}function ni(e){return!!(e&&e.__CANCEL__)}function Se(e,t,i){S.call(this,e??"canceled",S.ERR_CANCELED,t,i),this.name="CanceledError"}c.inherits(Se,S,{__CANCEL__:!0});function si(e,t,i){const n=i.config.validateStatus;!i.status||!n||n(i.status)?e(i):t(new S("Request failed with status code "+i.status,[S.ERR_BAD_REQUEST,S.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i))}function ir(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function nr(e,t){e=e||10;const i=new Array(e),n=new Array(e);let s=0,r=0,o;return t=t!==void 0?t:1e3,function(f){const u=Date.now(),p=n[r];o||(o=u),i[s]=f,n[s]=u;let m=r,w=0;for(;m!==s;)w+=i[m++],m=m%e;if(s=(s+1)%e,s===r&&(r=(r+1)%e),u-o<t)return;const E=p&&u-p;return E?Math.round(w*1e3/E):void 0}}function sr(e,t){let i=0,n=1e3/t,s,r;const o=(u,p=Date.now())=>{i=p,s=null,r&&(clearTimeout(r),r=null),e(...u)};return[(...u)=>{const p=Date.now(),m=p-i;m>=n?o(u,p):(s=u,r||(r=setTimeout(()=>{r=null,o(s)},n-m)))},()=>s&&o(s)]}const rt=(e,t,i=3)=>{let n=0;const s=nr(50,250);return sr(r=>{const o=r.loaded,l=r.lengthComputable?r.total:void 0,f=o-n,u=s(f),p=o<=l;n=o;const m={loaded:o,total:l,progress:l?o/l:void 0,bytes:f,rate:u||void 0,estimated:u&&l&&p?(l-o)/u:void 0,event:r,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(m)},i)},xa=(e,t)=>{const i=e!=null;return[n=>t[0]({lengthComputable:i,total:e,loaded:n}),t[1]]},fa=e=>(...t)=>c.asap(()=>e(...t)),rr=B.hasStandardBrowserEnv?((e,t)=>i=>(i=new URL(i,B.origin),e.protocol===i.protocol&&e.host===i.host&&(t||e.port===i.port)))(new URL(B.origin),B.navigator&&/(msie|trident)/i.test(B.navigator.userAgent)):()=>!0,or=B.hasStandardBrowserEnv?{write(e,t,i,n,s,r){const o=[e+"="+encodeURIComponent(t)];c.isNumber(i)&&o.push("expires="+new Date(i).toGMTString()),c.isString(n)&&o.push("path="+n),c.isString(s)&&o.push("domain="+s),r===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function lr(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function cr(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function ri(e,t,i){let n=!lr(t);return e&&(n||i==!1)?cr(e,t):t}const ha=e=>e instanceof Q?{...e}:e;function xe(e,t){t=t||{};const i={};function n(u,p,m,w){return c.isPlainObject(u)&&c.isPlainObject(p)?c.merge.call({caseless:w},u,p):c.isPlainObject(p)?c.merge({},p):c.isArray(p)?p.slice():p}function s(u,p,m,w){if(c.isUndefined(p)){if(!c.isUndefined(u))return n(void 0,u,m,w)}else return n(u,p,m,w)}function r(u,p){if(!c.isUndefined(p))return n(void 0,p)}function o(u,p){if(c.isUndefined(p)){if(!c.isUndefined(u))return n(void 0,u)}else return n(void 0,p)}function l(u,p,m){if(m in t)return n(u,p);if(m in e)return n(void 0,u)}const f={url:r,method:r,data:r,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(u,p,m)=>s(ha(u),ha(p),m,!0)};return c.forEach(Object.keys({...e,...t}),function(p){const m=f[p]||s,w=m(e[p],t[p],p);c.isUndefined(w)&&m!==l||(i[p]=w)}),i}const oi=e=>{const t=xe({},e);let{data:i,withXSRFToken:n,xsrfHeaderName:s,xsrfCookieName:r,headers:o,auth:l}=t;t.headers=o=Q.from(o),t.url=ti(ri(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let f;if(c.isFormData(i)){if(B.hasStandardBrowserEnv||B.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((f=o.getContentType())!==!1){const[u,...p]=f?f.split(";").map(m=>m.trim()).filter(Boolean):[];o.setContentType([u||"multipart/form-data",...p].join("; "))}}if(B.hasStandardBrowserEnv&&(n&&c.isFunction(n)&&(n=n(t)),n||n!==!1&&rr(t.url))){const u=s&&r&&or.read(r);u&&o.set(s,u)}return t},dr=typeof XMLHttpRequest<"u",pr=dr&&function(e){return new Promise(function(i,n){const s=oi(e);let r=s.data;const o=Q.from(s.headers).normalize();let{responseType:l,onUploadProgress:f,onDownloadProgress:u}=s,p,m,w,E,v;function d(){E&&E(),v&&v(),s.cancelToken&&s.cancelToken.unsubscribe(p),s.signal&&s.signal.removeEventListener("abort",p)}let h=new XMLHttpRequest;h.open(s.method.toUpperCase(),s.url,!0),h.timeout=s.timeout;function g(){if(!h)return;const D=Q.from("getAllResponseHeaders"in h&&h.getAllResponseHeaders()),_={data:!l||l==="text"||l==="json"?h.responseText:h.response,status:h.status,statusText:h.statusText,headers:D,config:e,request:h};si(function(z){i(z),d()},function(z){n(z),d()},_),h=null}"onloadend"in h?h.onloadend=g:h.onreadystatechange=function(){!h||h.readyState!==4||h.status===0&&!(h.responseURL&&h.responseURL.indexOf("file:")===0)||setTimeout(g)},h.onabort=function(){h&&(n(new S("Request aborted",S.ECONNABORTED,e,h)),h=null)},h.onerror=function(){n(new S("Network Error",S.ERR_NETWORK,e,h)),h=null},h.ontimeout=function(){let $=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const _=s.transitional||ai;s.timeoutErrorMessage&&($=s.timeoutErrorMessage),n(new S($,_.clarifyTimeoutError?S.ETIMEDOUT:S.ECONNABORTED,e,h)),h=null},r===void 0&&o.setContentType(null),"setRequestHeader"in h&&c.forEach(o.toJSON(),function($,_){h.setRequestHeader(_,$)}),c.isUndefined(s.withCredentials)||(h.withCredentials=!!s.withCredentials),l&&l!=="json"&&(h.responseType=s.responseType),u&&([w,v]=rt(u,!0),h.addEventListener("progress",w)),f&&h.upload&&([m,E]=rt(f),h.upload.addEventListener("progress",m),h.upload.addEventListener("loadend",E)),(s.cancelToken||s.signal)&&(p=D=>{h&&(n(!D||D.type?new Se(null,e,h):D),h.abort(),h=null)},s.cancelToken&&s.cancelToken.subscribe(p),s.signal&&(s.signal.aborted?p():s.signal.addEventListener("abort",p)));const N=ir(s.url);if(N&&B.protocols.indexOf(N)===-1){n(new S("Unsupported protocol "+N+":",S.ERR_BAD_REQUEST,e));return}h.send(r||null)})},mr=(e,t)=>{const{length:i}=e=e?e.filter(Boolean):[];if(t||i){let n=new AbortController,s;const r=function(u){if(!s){s=!0,l();const p=u instanceof Error?u:this.reason;n.abort(p instanceof S?p:new Se(p instanceof Error?p.message:p))}};let o=t&&setTimeout(()=>{o=null,r(new S(`timeout ${t} of ms exceeded`,S.ETIMEDOUT))},t);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(r):u.removeEventListener("abort",r)}),e=null)};e.forEach(u=>u.addEventListener("abort",r));const{signal:f}=n;return f.unsubscribe=()=>c.asap(l),f}},ur=mr,xr=function*(e,t){let i=e.byteLength;if(!t||i<t){yield e;return}let n=0,s;for(;n<i;)s=n+t,yield e.slice(n,s),n=s},fr=async function*(e,t){for await(const i of hr(e))yield*xr(i,t)},hr=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:i,value:n}=await t.read();if(i)break;yield n}}finally{await t.cancel()}},ga=(e,t,i,n)=>{const s=fr(e,t);let r=0,o,l=f=>{o||(o=!0,n&&n(f))};return new ReadableStream({async pull(f){try{const{done:u,value:p}=await s.next();if(u){l(),f.close();return}let m=p.byteLength;if(i){let w=r+=m;i(w)}f.enqueue(new Uint8Array(p))}catch(u){throw l(u),u}},cancel(f){return l(f),s.return()}},{highWaterMark:2})},ht=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",li=ht&&typeof ReadableStream=="function",gr=ht&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),ci=(e,...t)=>{try{return!!e(...t)}catch{return!1}},vr=li&&ci(()=>{let e=!1;const t=new Request(B.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),va=64*1024,Lt=li&&ci(()=>c.isReadableStream(new Response("").body)),ot={stream:Lt&&(e=>e.body)};ht&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!ot[t]&&(ot[t]=c.isFunction(e[t])?i=>i[t]():(i,n)=>{throw new S(`Response type '${t}' is not supported`,S.ERR_NOT_SUPPORT,n)})})})(new Response);const yr=async e=>{if(e==null)return 0;if(c.isBlob(e))return e.size;if(c.isSpecCompliantForm(e))return(await new Request(B.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(c.isArrayBufferView(e)||c.isArrayBuffer(e))return e.byteLength;if(c.isURLSearchParams(e)&&(e=e+""),c.isString(e))return(await gr(e)).byteLength},br=async(e,t)=>{const i=c.toFiniteNumber(e.getContentLength());return i??yr(t)},jr=ht&&(async e=>{let{url:t,method:i,data:n,signal:s,cancelToken:r,timeout:o,onDownloadProgress:l,onUploadProgress:f,responseType:u,headers:p,withCredentials:m="same-origin",fetchOptions:w}=oi(e);u=u?(u+"").toLowerCase():"text";let E=ur([s,r&&r.toAbortSignal()],o),v;const d=E&&E.unsubscribe&&(()=>{E.unsubscribe()});let h;try{if(f&&vr&&i!=="get"&&i!=="head"&&(h=await br(p,n))!==0){let _=new Request(t,{method:"POST",body:n,duplex:"half"}),K;if(c.isFormData(n)&&(K=_.headers.get("content-type"))&&p.setContentType(K),_.body){const[z,G]=xa(h,rt(fa(f)));n=ga(_.body,va,z,G)}}c.isString(m)||(m=m?"include":"omit");const g="credentials"in Request.prototype;v=new Request(t,{...w,signal:E,method:i.toUpperCase(),headers:p.normalize().toJSON(),body:n,duplex:"half",credentials:g?m:void 0});let N=await fetch(v,w);const D=Lt&&(u==="stream"||u==="response");if(Lt&&(l||D&&d)){const _={};["status","statusText","headers"].forEach(Z=>{_[Z]=N[Z]});const K=c.toFiniteNumber(N.headers.get("content-length")),[z,G]=l&&xa(K,rt(fa(l),!0))||[];N=new Response(ga(N.body,va,z,()=>{G&&G(),d&&d()}),_)}u=u||"text";let $=await ot[c.findKey(ot,u)||"text"](N,e);return!D&&d&&d(),await new Promise((_,K)=>{si(_,K,{data:$,headers:Q.from(N.headers),status:N.status,statusText:N.statusText,config:e,request:v})})}catch(g){throw d&&d(),g&&g.name==="TypeError"&&/Load failed|fetch/i.test(g.message)?Object.assign(new S("Network Error",S.ERR_NETWORK,e,v),{cause:g.cause||g}):S.from(g,g&&g.code,e,v)}}),It={http:_s,xhr:pr,fetch:jr};c.forEach(It,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const ya=e=>`- ${e}`,wr=e=>c.isFunction(e)||e===null||e===!1,di={getAdapter:e=>{e=c.isArray(e)?e:[e];const{length:t}=e;let i,n;const s={};for(let r=0;r<t;r++){i=e[r];let o;if(n=i,!wr(i)&&(n=It[(o=String(i)).toLowerCase()],n===void 0))throw new S(`Unknown adapter '${o}'`);if(n)break;s[o||"#"+r]=n}if(!n){const r=Object.entries(s).map(([l,f])=>`adapter ${l} `+(f===!1?"is not supported by the environment":"is not available in the build"));let o=t?r.length>1?`since :
`+r.map(ya).join(`
`):" "+ya(r[0]):"as no adapter specified";throw new S("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return n},adapters:It};function St(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Se(null,e)}function ba(e){return St(e),e.headers=Q.from(e.headers),e.data=kt.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),di.getAdapter(e.adapter||Kt.adapter)(e).then(function(n){return St(e),n.data=kt.call(e,e.transformResponse,n),n.headers=Q.from(n.headers),n},function(n){return ni(n)||(St(e),n&&n.response&&(n.response.data=kt.call(e,e.transformResponse,n.response),n.response.headers=Q.from(n.response.headers))),Promise.reject(n)})}const pi="1.11.0",gt={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{gt[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const ja={};gt.transitional=function(t,i,n){function s(r,o){return"[Axios v"+pi+"] Transitional option '"+r+"'"+o+(n?". "+n:"")}return(r,o,l)=>{if(t===!1)throw new S(s(o," has been removed"+(i?" in "+i:"")),S.ERR_DEPRECATED);return i&&!ja[o]&&(ja[o]=!0,console.warn(s(o," has been deprecated since v"+i+" and will be removed in the near future"))),t?t(r,o,l):!0}};gt.spelling=function(t){return(i,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function Nr(e,t,i){if(typeof e!="object")throw new S("options must be an object",S.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let s=n.length;for(;s-- >0;){const r=n[s],o=t[r];if(o){const l=e[r],f=l===void 0||o(l,r,e);if(f!==!0)throw new S("option "+r+" must be "+f,S.ERR_BAD_OPTION_VALUE);continue}if(i!==!0)throw new S("Unknown option "+r,S.ERR_BAD_OPTION)}}const et={assertOptions:Nr,validators:gt},te=et.validators;class lt{constructor(t){this.defaults=t||{},this.interceptors={request:new ma,response:new ma}}async request(t,i){try{return await this._request(t,i)}catch(n){if(n instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const r=s.stack?s.stack.replace(/^.+\n/,""):"";try{n.stack?r&&!String(n.stack).endsWith(r.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+r):n.stack=r}catch{}}throw n}}_request(t,i){typeof t=="string"?(i=i||{},i.url=t):i=t||{},i=xe(this.defaults,i);const{transitional:n,paramsSerializer:s,headers:r}=i;n!==void 0&&et.assertOptions(n,{silentJSONParsing:te.transitional(te.boolean),forcedJSONParsing:te.transitional(te.boolean),clarifyTimeoutError:te.transitional(te.boolean)},!1),s!=null&&(c.isFunction(s)?i.paramsSerializer={serialize:s}:et.assertOptions(s,{encode:te.function,serialize:te.function},!0)),i.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?i.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:i.allowAbsoluteUrls=!0),et.assertOptions(i,{baseUrl:te.spelling("baseURL"),withXsrfToken:te.spelling("withXSRFToken")},!0),i.method=(i.method||this.defaults.method||"get").toLowerCase();let o=r&&c.merge(r.common,r[i.method]);r&&c.forEach(["delete","get","head","post","put","patch","common"],v=>{delete r[v]}),i.headers=Q.concat(o,r);const l=[];let f=!0;this.interceptors.request.forEach(function(d){typeof d.runWhen=="function"&&d.runWhen(i)===!1||(f=f&&d.synchronous,l.unshift(d.fulfilled,d.rejected))});const u=[];this.interceptors.response.forEach(function(d){u.push(d.fulfilled,d.rejected)});let p,m=0,w;if(!f){const v=[ba.bind(this),void 0];for(v.unshift(...l),v.push(...u),w=v.length,p=Promise.resolve(i);m<w;)p=p.then(v[m++],v[m++]);return p}w=l.length;let E=i;for(m=0;m<w;){const v=l[m++],d=l[m++];try{E=v(E)}catch(h){d.call(this,h);break}}try{p=ba.call(this,E)}catch(v){return Promise.reject(v)}for(m=0,w=u.length;m<w;)p=p.then(u[m++],u[m++]);return p}getUri(t){t=xe(this.defaults,t);const i=ri(t.baseURL,t.url,t.allowAbsoluteUrls);return ti(i,t.params,t.paramsSerializer)}}c.forEach(["delete","get","head","options"],function(t){lt.prototype[t]=function(i,n){return this.request(xe(n||{},{method:t,url:i,data:(n||{}).data}))}});c.forEach(["post","put","patch"],function(t){function i(n){return function(r,o,l){return this.request(xe(l||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:r,data:o}))}}lt.prototype[t]=i(),lt.prototype[t+"Form"]=i(!0)});const tt=lt;class Wt{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let i;this.promise=new Promise(function(r){i=r});const n=this;this.promise.then(s=>{if(!n._listeners)return;let r=n._listeners.length;for(;r-- >0;)n._listeners[r](s);n._listeners=null}),this.promise.then=s=>{let r;const o=new Promise(l=>{n.subscribe(l),r=l}).then(s);return o.cancel=function(){n.unsubscribe(r)},o},t(function(r,o,l){n.reason||(n.reason=new Se(r,o,l),i(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const i=this._listeners.indexOf(t);i!==-1&&this._listeners.splice(i,1)}toAbortSignal(){const t=new AbortController,i=n=>{t.abort(n)};return this.subscribe(i),t.signal.unsubscribe=()=>this.unsubscribe(i),t.signal}static source(){let t;return{token:new Wt(function(s){t=s}),cancel:t}}}const kr=Wt;function Sr(e){return function(i){return e.apply(null,i)}}function Er(e){return c.isObject(e)&&e.isAxiosError===!0}const zt={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(zt).forEach(([e,t])=>{zt[t]=e});const Or=zt;function mi(e){const t=new tt(e),i=$a(tt.prototype.request,t);return c.extend(i,tt.prototype,t,{allOwnKeys:!0}),c.extend(i,t,null,{allOwnKeys:!0}),i.create=function(s){return mi(xe(e,s))},i}const I=mi(Kt);I.Axios=tt;I.CanceledError=Se;I.CancelToken=kr;I.isCancel=ni;I.VERSION=pi;I.toFormData=xt;I.AxiosError=S;I.Cancel=I.CanceledError;I.all=function(t){return Promise.all(t)};I.spread=Sr;I.isAxiosError=Er;I.mergeConfig=xe;I.AxiosHeaders=Q;I.formToJSON=e=>ii(c.isHTMLForm(e)?new FormData(e):e);I.getAdapter=di.getAdapter;I.HttpStatusCode=Or;I.default=I;const Ar=I,Dr={}.VITE_API_URL||"http://localhost:5000",vt=Ar.create({baseURL:Dr,timeout:3e4,headers:{"Content-Type":"application/json"}});vt.interceptors.request.use(e=>{const t=localStorage.getItem("auth_token");return t&&(e.headers.Authorization=`Bearer ${t}`),e});vt.interceptors.response.use(e=>e,e=>{var t;return((t=e.response)==null?void 0:t.status)===401&&(localStorage.removeItem("auth_token"),window.location.href="/login"),Promise.reject(e)});const Rr=async e=>{var t,i;try{const n=new FormData;return n.append("pdf",e),(await vt.post("/api/upload-pdf",n,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(n){return console.error("PDF upload failed:",n),{success:!1,error:((i=(t=n.response)==null?void 0:t.data)==null?void 0:i.error)||"Upload failed"}}},Cr=async e=>{var t,i;try{return(await vt.post("/api/calculate-iol",e)).data}catch(n){return console.error("IOL calculation failed:",n),{success:!1,error:((i=(t=n.response)==null?void 0:t.data)==null?void 0:i.error)||"Calculation failed"}}};function Tr({onPDFProcessed:e,isProcessing:t}){const[i,n]=b.useState("idle"),[s,r]=b.useState(null),[o,l]=b.useState(""),f=b.useCallback(async d=>{const h=d[0];if(h){l(h.name),n("uploading"),r(null);try{n("processing");const g=await Rr(h);if(g.success)n("success"),e(g.biometry);else throw new Error(g.error||"Processing failed")}catch(g){n("error"),r(g instanceof Error?g.message:"Upload failed")}}},[e]),{getRootProps:u,getInputProps:p,isDragActive:m}=Ba({onDrop:f,accept:{"application/pdf":[".pdf"]},maxFiles:1,disabled:t||i==="processing"}),w=()=>{switch(i){case"uploading":case"processing":return a.jsx(Zt,{className:"h-8 w-8 text-blue-600 animate-spin"});case"success":return a.jsx(at,{className:"h-8 w-8 text-green-600"});case"error":return a.jsx(Ea,{className:"h-8 w-8 text-red-600"});default:return a.jsx(Mt,{className:"h-8 w-8 text-gray-400"})}},E=()=>{switch(i){case"uploading":return"Uploading PDF...";case"processing":return"Extracting biometry data...";case"success":return`Successfully processed ${o}`;case"error":return"Upload failed";default:return m?"Drop PDF here":"Upload biometry PDF"}},v=()=>{switch(i){case"processing":return"Analyzing PDF and extracting measurements from your biometry device";case"success":return"Biometry data extracted successfully. Review the measurements below.";case"error":return s||"Please try again with a valid biometry PDF";default:return"Drag and drop your biometry PDF here, or click to browse"}};return a.jsxs("div",{className:"p-8 space-y-6",children:[a.jsxs("div",{...u(),className:`border-2 border-dashed rounded-lg p-12 text-center cursor-pointer transition-colors ${m?"border-blue-500 bg-blue-50":i==="success"?"border-green-500 bg-green-50":i==="error"?"border-red-500 bg-red-50":"border-gray-300 hover:border-blue-400 hover:bg-gray-50"} ${t||i==="processing"?"cursor-not-allowed opacity-75":""}`,children:[a.jsx("input",{...p()}),a.jsxs("div",{className:"space-y-4",children:[w(),a.jsxs("div",{className:"space-y-2",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:E()}),a.jsx("p",{className:"text-gray-600",children:v()})]}),i==="idle"&&a.jsxs("div",{className:"text-sm text-gray-500",children:[a.jsx("p",{children:"Supported formats: PDF only"}),a.jsx("p",{children:"Maximum file size: 16MB"})]}),i==="success"&&a.jsx("button",{onClick:d=>{d.stopPropagation(),n("idle"),l(""),r(null)},className:"text-blue-600 hover:text-blue-700 underline text-sm",children:"Upload different file"})]})]}),a.jsxs("div",{className:"bg-blue-50 rounded-lg p-6",children:[a.jsxs("h4",{className:"text-lg font-semibold text-blue-900 mb-4 flex items-center",children:[a.jsx(dt,{className:"mr-2 h-5 w-5"}),"Supported Biometry Devices"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 text-sm",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"font-medium text-blue-800",children:"Oculus"}),a.jsx("div",{className:"text-blue-700",children:"• Pentacam (EKR preferred)"}),a.jsx("div",{className:"text-blue-700",children:"• Pentacam AXL"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"font-medium text-blue-800",children:"Zeiss"}),a.jsx("div",{className:"text-blue-700",children:"• IOL Master 700"}),a.jsx("div",{className:"text-blue-700",children:"• IOL Master 500"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"font-medium text-blue-800",children:"Ziemer"}),a.jsx("div",{className:"text-blue-700",children:"• Galilei G4"}),a.jsx("div",{className:"text-blue-700",children:"• Galilei G6"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"font-medium text-blue-800",children:"Haag-Streit"}),a.jsx("div",{className:"text-blue-700",children:"• Lenstar LS 900"}),a.jsx("div",{className:"text-blue-700",children:"• Eyestar 900"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"font-medium text-blue-800",children:"Nidek"}),a.jsx("div",{className:"text-blue-700",children:"• OPD-Scan III"}),a.jsx("div",{className:"text-blue-700",children:"• AL-Scan"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"font-medium text-blue-800",children:"Topcon"}),a.jsx("div",{className:"text-blue-700",children:"• Aladdin"}),a.jsx("div",{className:"text-blue-700",children:"• IOL Master"})]})]}),a.jsx("div",{className:"mt-4 p-3 bg-blue-100 rounded-lg",children:a.jsxs("p",{className:"text-blue-800 text-sm",children:[a.jsx("strong",{children:"Note:"})," Our universal parser automatically detects your device type and extracts the relevant measurements. For Pentacam reports, EKR (Equivalent K Reading) values are preferred when available."]})})]}),(i==="processing"||i==="uploading")&&a.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Zt,{className:"h-5 w-5 text-yellow-600 animate-spin"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-yellow-800",children:"Processing Your PDF"}),a.jsx("p",{className:"text-yellow-700 text-sm",children:"We're extracting biometry measurements from your PDF. This typically takes 10-30 seconds."})]})]})}),a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Privacy & Security"}),a.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[a.jsx("p",{children:"• Your PDF is processed securely and deleted immediately after extraction"}),a.jsx("p",{children:"• No patient data is stored unless you create an account"}),a.jsx("p",{children:"• All calculations are performed locally for maximum privacy"}),a.jsx("p",{children:"• HIPAA-compliant data handling practices"})]})]})]})}function Fr({initialData:e,onConfirm:t,onBack:i}){const[n,s]=b.useState(e),[r,o]=b.useState(!1),l=(p,m)=>{s(w=>({...w,[p]:m}))},f=()=>{t(n)},u=[{key:"axialLength",label:"Axial Length (mm)",unit:"mm"},{key:"anteriorChamberDepth",label:"Anterior Chamber Depth (mm)",unit:"mm"},{key:"lensThickness",label:"Lens Thickness (mm)",unit:"mm"},{key:"cornealPowerK1",label:"Corneal Power K1 (D)",unit:"D"},{key:"cornealPowerK2",label:"Corneal Power K2 (D)",unit:"D"},{key:"cornealAstigmatismAxis",label:"Astigmatism Axis (°)",unit:"°"},{key:"pupilDiameter",label:"Pupil Diameter (mm)",unit:"mm"},{key:"whiteToWhite",label:"White-to-White (mm)",unit:"mm"}];return a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("button",{onClick:i,className:"p-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition-colors",children:a.jsx(Pi,{className:"h-5 w-5"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Review Biometry Data"}),a.jsx("p",{className:"text-gray-600",children:"Verify the extracted measurements before proceeding"})]})]}),a.jsxs("button",{onClick:()=>o(!r),className:`flex items-center space-x-2 px-4 py-2 rounded-lg transition-colors ${r?"bg-gray-100 text-gray-700 hover:bg-gray-200":"bg-blue-100 text-blue-700 hover:bg-blue-200"}`,children:[a.jsx(Bi,{className:"h-4 w-4"}),a.jsx("span",{children:r?"View Mode":"Edit Mode"})]})]}),a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Patient Information"}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Patient Name"}),r?a.jsx("input",{type:"text",value:n.patientName||"",onChange:p=>l("patientName",p.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}):a.jsx("div",{className:"px-3 py-2 bg-white border border-gray-200 rounded-lg",children:n.patientName||"Not specified"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Eye"}),r?a.jsxs("select",{value:n.eye||"OD",onChange:p=>l("eye",p.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"OD",children:"Right Eye (OD)"}),a.jsx("option",{value:"OS",children:"Left Eye (OS)"})]}):a.jsx("div",{className:"px-3 py-2 bg-white border border-gray-200 rounded-lg",children:n.eye==="OD"?"Right Eye (OD)":"Left Eye (OS)"})]})]})]}),a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Biometry Measurements"}),a.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:u.map(({key:p,label:m,unit:w})=>{var E;return a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:m}),r?a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"number",step:"0.01",value:n[p]||"",onChange:v=>l(p,parseFloat(v.target.value)||0),className:"w-full px-3 py-2 pr-12 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),a.jsx("span",{className:"absolute right-3 top-2 text-gray-500 text-sm",children:w})]}):a.jsxs("div",{className:"px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg flex justify-between",children:[a.jsx("span",{children:((E=n[p])==null?void 0:E.toFixed(2))||"N/A"}),a.jsx("span",{className:"text-gray-500 text-sm",children:w})]})]},p)})})]}),n.deviceInfo&&a.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-3",children:"Device Information"}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-medium text-blue-800",children:"Device:"}),a.jsxs("span",{className:"ml-2 text-blue-700",children:[n.deviceInfo.manufacturer," ",n.deviceInfo.model]})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium text-blue-800",children:"Measurement Date:"}),a.jsx("span",{className:"ml-2 text-blue-700",children:n.deviceInfo.measurementDate})]})]})]}),a.jsxs("div",{className:"flex justify-between pt-4",children:[a.jsx("button",{onClick:i,className:"px-6 py-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition-colors",children:"Back to Upload"}),a.jsxs("button",{onClick:f,className:"flex items-center space-x-2 px-6 py-2 bg-blue-600 text-white hover:bg-blue-700 rounded-lg transition-colors",children:[a.jsx(Ii,{className:"h-4 w-4"}),a.jsx("span",{children:"Confirm & Continue"})]})]})]})}function _r({onIOLSelected:e,isProcessing:t}){const[i,n]=b.useState(.5),[s,r]=b.useState(0),[o,l]=b.useState(""),[f,u]=b.useState(!1),[p,m]=b.useState(""),w=[{id:"alcon-clareon",manufacturer:"Alcon",family:"Clareon & AcrySof",description:"Premium monofocal and toric IOLs",aConstant:119.3,models:["Clareon Monofocal","Clareon Toric","AcrySof IQ","AcrySof Toric"]},{id:"jj-tecnis",manufacturer:"Johnson & Johnson",family:"Tecnis IOLs",description:"Advanced optics with aberration control",aConstant:119.3,models:["Tecnis Monofocal","Tecnis Toric","Tecnis Symfony","Tecnis Synergy"]},{id:"zeiss",manufacturer:"Zeiss",family:"Zeiss IOLs",description:"Precision optics and materials",aConstant:118.9,models:["CT ASPHINA","AT TORBI","AT LISA"]},{id:"hoya",manufacturer:"Hoya",family:"Hoya IOLs",description:"Japanese precision manufacturing",aConstant:118.7,models:["Vivinex","Vivinex Toric","Vivinex XY1"]},{id:"rayner",manufacturer:"Rayner",family:"Rayner IOLs",description:"British innovation in IOL design",aConstant:118.5,models:["RayOne","RayOne Toric","RayOne EMV"]}],v=[{id:"clareon-mono",name:"Clareon Monofocal",manufacturer:"Alcon",type:"Monofocal",aConstant:119.3},{id:"clareon-toric",name:"Clareon Toric",manufacturer:"Alcon",type:"Toric",aConstant:119.3},{id:"acrysof-iq",name:"AcrySof IQ",manufacturer:"Alcon",type:"Monofocal",aConstant:118.9},{id:"panoptix",name:"PanOptix Trifocal",manufacturer:"Alcon",type:"Multifocal",aConstant:119.3},{id:"tecnis-mono",name:"Tecnis Monofocal",manufacturer:"J&J",type:"Monofocal",aConstant:119.3},{id:"tecnis-toric",name:"Tecnis Toric",manufacturer:"J&J",type:"Toric",aConstant:119.3},{id:"tecnis-symfony",name:"Tecnis Symfony",manufacturer:"J&J",type:"EDOF",aConstant:119.3},{id:"tecnis-synergy",name:"Tecnis Synergy",manufacturer:"J&J",type:"Multifocal",aConstant:119.3},{id:"ct-asphina",name:"CT ASPHINA",manufacturer:"Zeiss",type:"Monofocal",aConstant:118.9},{id:"at-torbi",name:"AT TORBI",manufacturer:"Zeiss",type:"Toric",aConstant:118.9},{id:"at-lisa",name:"AT LISA",manufacturer:"Zeiss",type:"Multifocal",aConstant:118.9},{id:"vivinex",name:"Vivinex",manufacturer:"Hoya",type:"Monofocal",aConstant:118.7},{id:"vivinex-toric",name:"Vivinex Toric",manufacturer:"Hoya",type:"Toric",aConstant:118.7},{id:"rayone",name:"RayOne",manufacturer:"Rayner",type:"Monofocal",aConstant:118.5},{id:"rayone-toric",name:"RayOne Toric",manufacturer:"Rayner",type:"Toric",aConstant:118.5}].filter(g=>g.name.toLowerCase().includes(p.toLowerCase())||g.manufacturer.toLowerCase().includes(p.toLowerCase())),d=g=>{l(g);const N=w.find(D=>D.id===g);if(N){const D={id:N.id,manufacturer:N.manufacturer,model:N.family,type:"Monofocal",aConstant:N.aConstant,targetRefraction:s,sia:i};e(D)}},h=g=>{const N={id:g.id,manufacturer:g.manufacturer,model:g.name,type:g.type,aConstant:g.aConstant,targetRefraction:s,sia:i};e(N)};return a.jsx("div",{className:"p-8",children:a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"text-center space-y-2",children:[a.jsx(Aa,{className:"h-12 w-12 text-blue-600 mx-auto"}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"IOL Selection & Parameters"}),a.jsx("p",{className:"text-gray-600",children:"Configure SIA and select your preferred IOL family"})]}),a.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-6",children:[a.jsxs("h3",{className:"text-lg font-semibold text-amber-900 mb-4 flex items-center space-x-2",children:[a.jsx(Ki,{className:"h-5 w-5"}),a.jsx("span",{children:"Surgically Induced Astigmatism (SIA)"})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-6 items-center",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"SIA Value (Diopters)"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"number",step:"0.1",min:"0",max:"2",value:i,onChange:g=>n(parseFloat(g.target.value)||0),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"0.5"}),a.jsx("span",{className:"absolute right-3 top-3 text-gray-500 text-sm",children:"D"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Target Refraction"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"number",step:"0.25",min:"-3",max:"1",value:s,onChange:g=>r(parseFloat(g.target.value)||0),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"0.0"}),a.jsx("span",{className:"absolute right-3 top-3 text-gray-500 text-sm",children:"D"})]})]})]}),a.jsx("div",{className:"bg-amber-100 p-4 rounded-lg",children:a.jsxs("div",{className:"text-sm text-amber-800",children:[a.jsx("strong",{children:"SIA Guidelines:"}),a.jsxs("ul",{className:"mt-2 space-y-1 text-xs",children:[a.jsx("li",{children:"• Typical range: 0.3 - 0.8 D"}),a.jsx("li",{children:"• Surgeon-specific values recommended"}),a.jsx("li",{children:"• Consider incision size and location"}),a.jsx("li",{children:"• Default: 0.5 D for 2.4mm clear corneal"})]})]})})]})]}),a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:[a.jsxs("h3",{className:"text-lg font-semibold text-blue-900 mb-4 flex items-center space-x-2",children:[a.jsx(we,{className:"h-5 w-5"}),a.jsx("span",{children:"Select IOL Family"})]}),a.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:w.map(g=>a.jsxs("button",{onClick:()=>d(g.id),disabled:t,className:`p-4 border-2 rounded-lg text-left transition-all duration-200 hover:shadow-md disabled:opacity-50 disabled:cursor-not-allowed ${o===g.id?"border-blue-500 bg-blue-100":"border-gray-200 bg-white hover:border-blue-300"}`,children:[a.jsx("div",{className:"font-semibold text-gray-900",children:g.manufacturer}),a.jsx("div",{className:"text-sm font-medium text-blue-600 mb-2",children:g.family}),a.jsx("div",{className:"text-xs text-gray-600 mb-3",children:g.description}),a.jsxs("div",{className:"text-xs text-gray-500",children:["A-Constant: ",g.aConstant]}),a.jsxs("div",{className:"mt-2 flex flex-wrap gap-1",children:[g.models.slice(0,2).map((N,D)=>a.jsx("span",{className:"text-xs bg-gray-100 px-2 py-1 rounded",children:N},D)),g.models.length>2&&a.jsxs("span",{className:"text-xs text-gray-500",children:["+",g.models.length-2," more"]})]})]},g.id))})]}),a.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Or choose any IOL from the list below:"}),a.jsxs("button",{onClick:()=>u(!f),className:"flex items-center space-x-2 text-blue-600 hover:text-blue-700",children:[a.jsxs("span",{className:"text-sm font-medium",children:[f?"Hide":"Show"," All IOLs"]}),a.jsx(Oa,{className:`h-4 w-4 transition-transform ${f?"rotate-180":""}`})]})]}),f&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx($i,{className:"h-4 w-4 absolute left-3 top-3 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Search IOLs by name or manufacturer...",value:p,onChange:g=>m(g.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),a.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-3 max-h-64 overflow-y-auto",children:v.map(g=>a.jsxs("button",{onClick:()=>h(g),disabled:t,className:"p-3 border border-gray-200 rounded-lg text-left hover:border-blue-300 hover:bg-blue-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[a.jsx("div",{className:"font-medium text-gray-900",children:g.name}),a.jsx("div",{className:"text-sm text-gray-600",children:g.manufacturer}),a.jsxs("div",{className:"text-xs text-blue-600 mt-1",children:[g.type," • A: ",g.aConstant]})]},g.id))}),v.length===0&&a.jsx("div",{className:"text-center py-8 text-gray-500",children:"No IOLs found matching your search criteria."})]})]}),t&&a.jsx("div",{className:"text-center py-8",children:a.jsxs("div",{className:"inline-flex items-center space-x-2 text-blue-600",children:[a.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),a.jsx("span",{className:"font-medium",children:"Processing IOL calculations..."})]})})]})})}function Pr(){const[e,t]=b.useState(0),[i,n]=b.useState(0),s=[{icon:Me,title:"Parsing Biometry Data",description:"Extracting and validating measurements",duration:1e3},{icon:Li,title:"AI Formula Processing",description:"Running Barrett Universal II, Kane, Hill-RBF",duration:2e3},{icon:Ji,title:"Legacy Formula Calculations",description:"Computing SRK/T, Holladay, Hoffer Q, Haigis",duration:1500},{icon:at,title:"Generating Report",description:"Compiling results and recommendations",duration:1e3}];return b.useEffect(()=>{let r=0;s.forEach(l=>{r+=l.duration});const o=setInterval(()=>{n(l=>{const f=l+100/r*50;let u=0;for(let p=0;p<s.length;p++)if(u+=s[p].duration,f<u/r*100){t(p);break}return f>=100?(t(s.length-1),clearInterval(o),100):f})},50);return()=>clearInterval(o)},[]),a.jsxs("div",{className:"p-8 text-center space-y-8",children:[a.jsx("div",{className:"flex justify-center",children:a.jsxs("div",{className:"relative w-32 h-32",children:[a.jsxs("svg",{className:"w-32 h-32 transform -rotate-90",viewBox:"0 0 120 120",children:[a.jsx("circle",{cx:"60",cy:"60",r:"54",stroke:"currentColor",strokeWidth:"8",fill:"transparent",className:"text-gray-200"}),a.jsx("circle",{cx:"60",cy:"60",r:"54",stroke:"currentColor",strokeWidth:"8",fill:"transparent",strokeDasharray:`${2*Math.PI*54}`,strokeDashoffset:`${2*Math.PI*54*(1-i/100)}`,className:"text-blue-600 transition-all duration-300 ease-out",strokeLinecap:"round"})]}),a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[Math.round(i),"%"]}),a.jsx("div",{className:"text-xs text-gray-500",children:"Complete"})]})})]})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Calculating IOL Powers"}),a.jsx("p",{className:"text-gray-600",children:"Processing with 36+ formulas for comprehensive analysis"})]}),a.jsx("div",{className:"space-y-4",children:s.map((r,o)=>{const l=r.icon,f=o===e,u=o<e||i===100;return a.jsxs("div",{className:`flex items-center space-x-4 p-4 rounded-lg transition-all duration-300 ${f?"bg-blue-50 border border-blue-200":u?"bg-green-50 border border-green-200":"bg-gray-50 border border-gray-200"}`,children:[a.jsx("div",{className:`flex-shrink-0 w-10 h-10 rounded-full flex items-center justify-center ${f?"bg-blue-600 text-white":u?"bg-green-600 text-white":"bg-gray-300 text-gray-600"}`,children:a.jsx(l,{className:"h-5 w-5"})}),a.jsxs("div",{className:"flex-1 text-left",children:[a.jsx("div",{className:`font-medium ${f?"text-blue-900":u?"text-green-900":"text-gray-700"}`,children:r.title}),a.jsx("div",{className:`text-sm ${f?"text-blue-700":u?"text-green-700":"text-gray-500"}`,children:r.description})]}),f&&a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-blue-600"})}),u&&o<e&&a.jsx("div",{className:"flex-shrink-0",children:a.jsx(at,{className:"h-5 w-5 text-green-600"})})]},o)})}),a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 text-sm text-gray-600",children:[a.jsx("div",{className:"font-medium text-gray-800 mb-2",children:"Formulas Being Calculated:"}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 text-xs",children:[a.jsx("div",{children:"Barrett Universal II"}),a.jsx("div",{children:"Kane Formula"}),a.jsx("div",{children:"Hill-RBF"}),a.jsx("div",{children:"PEARL-DGS"}),a.jsx("div",{children:"Hoffer QST"}),a.jsx("div",{children:"EVO 2.0"}),a.jsx("div",{children:"SRK/T"}),a.jsx("div",{children:"Holladay 1 & 2"}),a.jsx("div",{children:"Hoffer Q"}),a.jsx("div",{children:"Haigis"}),a.jsx("div",{children:"Olsen"}),a.jsx("div",{children:"+ 25 more..."})]})]})]})}function Lr(){var _,K,z,G,Z,se,Ee,he,re,M,H,Ke,Oe,ge,q,We,Ae,oe,De,ae,Re,Y,Ce,Te,Fe,le,ce,ie,_e,Pe,Le,Ie,ne,ve,de,pe,Je,Ve,Ge,y;const e=Na(),[t,i]=b.useState("upload"),[n,s]=b.useState(null),[r,o]=b.useState(null),[l,f]=b.useState(!1),[u,p]=b.useState(null),[m,w]=b.useState(null),[E,v]=b.useState([]);b.useEffect(()=>{const x=sessionStorage.getItem("calculationResults"),j=sessionStorage.getItem("uploadedFiles");if(x&&j)try{const k=JSON.parse(x),O=JSON.parse(j);w(k),v(O),i("review"),sessionStorage.removeItem("calculationResults"),sessionStorage.removeItem("uploadedFiles")}catch(k){console.error("Error parsing stored results:",k)}},[]);const d=[{id:"upload",title:"Upload PDF",icon:Mt,description:"Upload biometry PDF from any device"},{id:"review",title:"Review Data",icon:dt,description:"Verify extracted measurements"},{id:"iol-selection",title:"Select IOL",icon:we,description:"Choose IOL platform and target"},{id:"calculating",title:"Calculate",icon:Me,description:"Processing with 36+ formulas"}],h=x=>{s(x),i("review"),p(null)},g=x=>{s(x),i("iol-selection")},N=x=>{o(x),D(x)},D=async x=>{if(n){i("calculating"),f(!0),p(null);try{const j={biometry:n,iol:x,targetRefraction:x.targetRefraction||0,includeAllFormulas:!0},k=await Cr(j);e("/results",{state:{biometry:n,iol:x,results:k}})}catch(j){p(j instanceof Error?j.message:"Calculation failed"),i("iol-selection")}finally{f(!1)}}},$=()=>{i("upload"),s(null),o(null),p(null)};return a.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900",children:"IOL Power Calculator"}),a.jsx("p",{className:"text-lg text-gray-600",children:"Upload your biometry PDF and get comprehensive IOL calculations with 36+ formulas"})]}),a.jsx("div",{className:"bg-white rounded-lg shadow-lg p-6",children:a.jsx("div",{className:"flex items-center justify-between",children:d.map((x,j)=>{const k=x.icon,O=x.id===t,A=d.findIndex(R=>R.id===t)>j;return a.jsxs("div",{className:"flex items-center",children:[a.jsxs("div",{className:`flex flex-col items-center space-y-2 ${j<d.length-1?"flex-1":""}`,children:[a.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center border-2 ${O?"bg-blue-600 border-blue-600 text-white":A?"bg-green-600 border-green-600 text-white":"bg-gray-100 border-gray-300 text-gray-400"}`,children:a.jsx(k,{className:"h-6 w-6"})}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:`text-sm font-medium ${O?"text-blue-600":A?"text-green-600":"text-gray-400"}`,children:x.title}),a.jsx("div",{className:"text-xs text-gray-500 hidden md:block",children:x.description})]})]}),j<d.length-1&&a.jsx("div",{className:`flex-1 h-0.5 mx-4 ${A?"bg-green-600":"bg-gray-200"}`})]},x.id)})})}),u&&a.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"text-red-600 font-medium",children:"Error:"}),a.jsx("div",{className:"text-red-700",children:u})]}),a.jsx("button",{onClick:$,className:"mt-2 text-red-600 hover:text-red-700 underline text-sm",children:"Start Over"})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-lg",children:[t==="upload"&&!m&&a.jsx(Tr,{onPDFProcessed:h,isProcessing:l}),t==="review"&&m&&a.jsx("div",{className:"p-8",children:a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"text-center space-y-2",children:[a.jsx(at,{className:"h-12 w-12 text-green-600 mx-auto"}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Data Validation & Confirmation"}),a.jsx("p",{className:"text-gray-600",children:"Please review the extracted biometry data before proceeding"})]}),a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:[a.jsxs("h3",{className:"text-lg font-semibold text-blue-900 mb-4 flex items-center space-x-2",children:[a.jsx(Aa,{className:"h-5 w-5"}),a.jsx("span",{children:"Detected Devices"})]}),a.jsx("div",{className:"grid gap-3",children:m.results.map((x,j)=>{var k,O,A,R,P,L,U;return a.jsxs("div",{className:"bg-white p-4 rounded-lg border flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:a.jsx(we,{className:"h-5 w-5 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-900",children:(O=(k=x.data)==null?void 0:k.device_info)!=null&&O.manufacturer&&((R=(A=x.data)==null?void 0:A.device_info)!=null&&R.model)?`${x.data.device_info.manufacturer} ${x.data.device_info.model}`:((P=x.data)==null?void 0:P.device_type)||((L=x.data)==null?void 0:L.device_name)||"Unknown Device"}),a.jsx("div",{className:"text-sm text-gray-600",children:((U=E[j])==null?void 0:U.split(".")[0])||`File ${j+1}`})]})]}),a.jsx("div",{className:"text-sm font-medium text-green-600",children:"✓ Validated"})]},j)})})]}),a.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-6",children:[a.jsxs("h3",{className:"text-lg font-semibold text-amber-900 mb-4 flex items-center space-x-2",children:[a.jsx(Ea,{className:"h-5 w-5"}),a.jsx("span",{children:"Keratometry Analysis"})]}),m.results.length>1?a.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:m.results.slice(0,2).map((x,j)=>{var k,O,A,R,P,L,U,J,V,ye,be,je,Ze,Jt;return a.jsxs("div",{className:"bg-white p-4 rounded-lg border",children:[a.jsx("div",{className:"font-medium text-gray-900 mb-3",children:j===0?"OD (Right Eye)":"OS (Left Eye)"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"K1:"}),a.jsxs("span",{className:"font-medium",children:[((k=x.data)==null?void 0:k.k1)||"43.50"," D @ ",((O=x.data)==null?void 0:O.k1_axis)||"180","°"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"K2:"}),a.jsxs("span",{className:"font-medium",children:[((A=x.data)==null?void 0:A.k2)||"44.25"," D @ ",((R=x.data)==null?void 0:R.k2_axis)||"90","°"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Astigmatism:"}),a.jsxs("span",{className:"font-medium text-blue-600",children:[Math.abs((((P=x.data)==null?void 0:P.k2)||44.25)-(((L=x.data)==null?void 0:L.k1)||43.5)).toFixed(2)," D @ ",((U=x.data)==null?void 0:U.cyl_axis)||((J=x.data)==null?void 0:J.k2_axis)||"90","°"]})]}),a.jsx("div",{className:"pt-2 border-t",children:a.jsxs("div",{className:"text-xs text-green-700 font-medium",children:["✓ Using ",(ye=(V=x.data)==null?void 0:V.device_info)!=null&&ye.manufacturer&&((je=(be=x.data)==null?void 0:be.device_info)!=null&&je.model)?`${x.data.device_info.manufacturer} ${x.data.device_info.model}`:((Ze=x.data)==null?void 0:Ze.device_type)||((Jt=x.data)==null?void 0:Jt.device_name)||"Unknown Device"," readings"]})})]})]},j)})}):a.jsxs("div",{className:"bg-white p-4 rounded-lg border max-w-md",children:[a.jsx("div",{className:"font-medium text-gray-900 mb-3",children:"Single Eye Analysis"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"K1:"}),a.jsxs("span",{className:"font-medium",children:[((K=(_=m.results[0])==null?void 0:_.data)==null?void 0:K.k1)||"43.50"," D @ ",((G=(z=m.results[0])==null?void 0:z.data)==null?void 0:G.k1_axis)||"180","°"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"K2:"}),a.jsxs("span",{className:"font-medium",children:[((se=(Z=m.results[0])==null?void 0:Z.data)==null?void 0:se.k2)||"44.25"," D @ ",((he=(Ee=m.results[0])==null?void 0:Ee.data)==null?void 0:he.k2_axis)||"90","°"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Astigmatism:"}),a.jsxs("span",{className:"font-medium text-blue-600",children:[Math.abs((((M=(re=m.results[0])==null?void 0:re.data)==null?void 0:M.k2)||44.25)-(((Ke=(H=m.results[0])==null?void 0:H.data)==null?void 0:Ke.k1)||43.5)).toFixed(2)," D @ ",((ge=(Oe=m.results[0])==null?void 0:Oe.data)==null?void 0:ge.cyl_axis)||((We=(q=m.results[0])==null?void 0:q.data)==null?void 0:We.k2_axis)||"90","°"]})]}),a.jsx("div",{className:"pt-2 border-t",children:a.jsxs("div",{className:"text-xs text-green-700 font-medium",children:["✓ Using ",(De=(oe=(Ae=m.results[0])==null?void 0:Ae.data)==null?void 0:oe.device_info)!=null&&De.manufacturer&&((Y=(Re=(ae=m.results[0])==null?void 0:ae.data)==null?void 0:Re.device_info)!=null&&Y.model)?`${m.results[0].data.device_info.manufacturer} ${m.results[0].data.device_info.model}`:((Te=(Ce=m.results[0])==null?void 0:Ce.data)==null?void 0:Te.device_type)||((le=(Fe=m.results[0])==null?void 0:Fe.data)==null?void 0:le.device_name)||"Unknown Device"," readings"]})})]})]}),a.jsx("div",{className:"mt-4 p-3 bg-amber-100 rounded-lg",children:a.jsxs("div",{className:"text-sm text-amber-800",children:[a.jsx("strong",{children:"K-reading Source:"})," Using device-specific measurements for enhanced accuracy.",m.results.length>1?a.jsxs("span",{children:[" Bilateral analysis completed with ",m.results.map((x,j)=>{var k,O,A,R,P,L;return(O=(k=x.data)==null?void 0:k.device_info)!=null&&O.manufacturer&&((R=(A=x.data)==null?void 0:A.device_info)!=null&&R.model)?`${x.data.device_info.manufacturer} ${x.data.device_info.model}`:((P=x.data)==null?void 0:P.device_type)||((L=x.data)==null?void 0:L.device_name)||"Unknown Device"}).join(" and ")," readings."]}):a.jsxs("span",{children:[" Single eye analysis using ",(_e=(ie=(ce=m.results[0])==null?void 0:ce.data)==null?void 0:ie.device_info)!=null&&_e.manufacturer&&((Ie=(Le=(Pe=m.results[0])==null?void 0:Pe.data)==null?void 0:Le.device_info)!=null&&Ie.model)?`${m.results[0].data.device_info.manufacturer} ${m.results[0].data.device_info.model}`:((ve=(ne=m.results[0])==null?void 0:ne.data)==null?void 0:ve.device_type)||((pe=(de=m.results[0])==null?void 0:de.data)==null?void 0:pe.device_name)||"Unknown Device"," measurements."]})]})})]}),a.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-6",children:[a.jsxs("h3",{className:"text-lg font-semibold text-purple-900 mb-4 flex items-center space-x-2",children:[a.jsx(we,{className:"h-5 w-5"}),a.jsx("span",{children:"IOL Recommendation"})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-6 items-center",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-white p-4 rounded-lg border",children:[a.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"Residual Astigmatism Analysis"}),m.results.map((x,j)=>{var A,R;const k=Math.abs((((A=x.data)==null?void 0:A.k2)||44.25)-(((R=x.data)==null?void 0:R.k1)||43.5)),O=k>=.75;return a.jsxs("div",{className:"flex items-center justify-between py-2",children:[a.jsx("span",{className:"text-sm font-medium",children:m.results.length>1?j===0?"OD:":"OS:":"Eye:"}),a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:"text-sm font-bold text-purple-600",children:[k.toFixed(2)," D"]}),a.jsx("div",{className:`text-xs font-medium ${O?"text-green-600":"text-gray-500"}`,children:O?"✓ Toric recommended":"Spherical suitable"})]})]},j)})]}),a.jsxs("div",{className:"text-sm text-purple-800 bg-purple-100 p-3 rounded-lg",children:[a.jsx("strong",{children:"Recommendation:"})," Based on residual astigmatism analysis, toric IOLs are suggested for optimal visual outcomes.",a.jsx("div",{className:"mt-1 text-xs",children:"*Calculation assumes SIA = 0.0 D (will be adjusted in next step)"})]})]}),a.jsx("div",{className:"flex justify-center",children:m.results.length>1?a.jsx("div",{className:"grid grid-cols-2 gap-8",children:m.results.slice(0,2).map((x,j)=>{var R,P,L,U;const k=Math.abs((((R=x.data)==null?void 0:R.k2)||44.25)-(((P=x.data)==null?void 0:P.k1)||43.5)),O=((L=x.data)==null?void 0:L.cyl_axis)||((U=x.data)==null?void 0:U.k2_axis)||(j===0?90:85),A=k>=.75;return a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"relative mb-2",children:a.jsxs("svg",{width:"120",height:"120",viewBox:"0 0 120 120",className:"mx-auto",children:[a.jsx("circle",{cx:"60",cy:"60",r:"50",fill:"white",stroke:"#9333ea",strokeWidth:"2"}),a.jsx("text",{x:"60",y:"15",textAnchor:"middle",className:"text-xs fill-purple-600 font-medium",children:"0°"}),a.jsx("text",{x:"105",y:"65",textAnchor:"middle",className:"text-xs fill-purple-600 font-medium",children:"90°"}),a.jsx("text",{x:"60",y:"110",textAnchor:"middle",className:"text-xs fill-purple-600 font-medium",children:"180°"}),a.jsx("text",{x:"15",y:"65",textAnchor:"middle",className:"text-xs fill-purple-600 font-medium",children:"270°"}),A&&a.jsxs("g",{transform:`rotate(${O} 60 60)`,children:[a.jsx("ellipse",{cx:"60",cy:"60",rx:"25",ry:"3",fill:"#9333ea",opacity:"0.8"}),a.jsx("path",{d:"M 35 60 Q 25 50 20 45",stroke:"#9333ea",strokeWidth:"2",fill:"none",opacity:"0.6"}),a.jsx("path",{d:"M 85 60 Q 95 70 100 75",stroke:"#9333ea",strokeWidth:"2",fill:"none",opacity:"0.6"}),a.jsx("path",{d:"M 35 60 Q 25 70 20 75",stroke:"#9333ea",strokeWidth:"2",fill:"none",opacity:"0.6"}),a.jsx("path",{d:"M 85 60 Q 95 50 100 45",stroke:"#9333ea",strokeWidth:"2",fill:"none",opacity:"0.6"}),a.jsx("line",{x1:"35",y1:"60",x2:"85",y2:"60",stroke:"#7c3aed",strokeWidth:"2"})]}),!A&&a.jsxs(a.Fragment,{children:[a.jsx("circle",{cx:"60",cy:"60",r:"20",fill:"#9333ea",opacity:"0.3"}),a.jsx("text",{x:"60",y:"65",textAnchor:"middle",className:"text-xs fill-purple-700 font-medium",children:"Spherical"})]})]})}),a.jsx("div",{className:"text-sm font-medium text-purple-700",children:j===0?"OD (Right Eye)":"OS (Left Eye)"}),a.jsx("div",{className:"text-xs text-purple-600",children:A?`Toric @ ${O}°`:"Spherical IOL"}),a.jsxs("div",{className:"text-xs text-gray-600 mt-1",children:[k.toFixed(2)," D astigmatism"]})]},j)})}):a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"relative mb-2",children:(()=>{var O,A,R,P,L,U,J,V;const x=Math.abs((((A=(O=m.results[0])==null?void 0:O.data)==null?void 0:A.k2)||44.25)-(((P=(R=m.results[0])==null?void 0:R.data)==null?void 0:P.k1)||43.5)),j=((U=(L=m.results[0])==null?void 0:L.data)==null?void 0:U.cyl_axis)||((V=(J=m.results[0])==null?void 0:J.data)==null?void 0:V.k2_axis)||90,k=x>=.75;return a.jsxs("svg",{width:"140",height:"140",viewBox:"0 0 140 140",className:"mx-auto",children:[a.jsx("circle",{cx:"70",cy:"70",r:"60",fill:"white",stroke:"#9333ea",strokeWidth:"3"}),a.jsx("text",{x:"70",y:"20",textAnchor:"middle",className:"text-sm fill-purple-600 font-medium",children:"0°"}),a.jsx("text",{x:"120",y:"75",textAnchor:"middle",className:"text-sm fill-purple-600 font-medium",children:"90°"}),a.jsx("text",{x:"70",y:"130",textAnchor:"middle",className:"text-sm fill-purple-600 font-medium",children:"180°"}),a.jsx("text",{x:"20",y:"75",textAnchor:"middle",className:"text-sm fill-purple-600 font-medium",children:"270°"}),k&&a.jsxs("g",{transform:`rotate(${j} 70 70)`,children:[a.jsx("ellipse",{cx:"70",cy:"70",rx:"30",ry:"4",fill:"#9333ea",opacity:"0.8"}),a.jsx("path",{d:"M 40 70 Q 28 58 22 52",stroke:"#9333ea",strokeWidth:"3",fill:"none",opacity:"0.6"}),a.jsx("path",{d:"M 100 70 Q 112 82 118 88",stroke:"#9333ea",strokeWidth:"3",fill:"none",opacity:"0.6"}),a.jsx("path",{d:"M 40 70 Q 28 82 22 88",stroke:"#9333ea",strokeWidth:"3",fill:"none",opacity:"0.6"}),a.jsx("path",{d:"M 100 70 Q 112 58 118 52",stroke:"#9333ea",strokeWidth:"3",fill:"none",opacity:"0.6"}),a.jsx("line",{x1:"40",y1:"70",x2:"100",y2:"70",stroke:"#7c3aed",strokeWidth:"3"})]}),!k&&a.jsxs(a.Fragment,{children:[a.jsx("circle",{cx:"70",cy:"70",r:"25",fill:"#9333ea",opacity:"0.3"}),a.jsx("text",{x:"70",y:"75",textAnchor:"middle",className:"text-sm fill-purple-700 font-medium",children:"Spherical"})]})]})})()}),a.jsx("div",{className:"text-sm font-medium text-purple-700",children:"IOL Positioning"}),a.jsx("div",{className:"text-xs text-purple-600",children:(()=>{var O,A,R,P,L,U,J,V;const x=Math.abs((((A=(O=m.results[0])==null?void 0:O.data)==null?void 0:A.k2)||44.25)-(((P=(R=m.results[0])==null?void 0:R.data)==null?void 0:P.k1)||43.5)),j=((U=(L=m.results[0])==null?void 0:L.data)==null?void 0:U.cyl_axis)||((V=(J=m.results[0])==null?void 0:J.data)==null?void 0:V.k2_axis)||90;return x>=.75?`Toric @ ${j}°`:"Spherical IOL"})()}),a.jsxs("div",{className:"text-xs text-gray-600 mt-1",children:[Math.abs((((Ve=(Je=m.results[0])==null?void 0:Je.data)==null?void 0:Ve.k2)||44.25)-(((y=(Ge=m.results[0])==null?void 0:Ge.data)==null?void 0:y.k1)||43.5)).toFixed(2)," D astigmatism"]})]})})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 pt-4",children:[a.jsxs("button",{onClick:()=>i("iol-selection"),className:"flex-1 bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors font-medium flex items-center justify-center space-x-2",children:[a.jsx("span",{children:"Continue to IOL Selection"}),a.jsx(Ot,{className:"h-4 w-4"})]}),a.jsx("button",{onClick:$,className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Upload Different Files"})]})]})}),t==="review"&&n&&!m&&a.jsx(Fr,{initialData:n,onConfirm:g}),t==="iol-selection"&&a.jsx(_r,{onIOLSelected:N,isProcessing:l}),t==="calculating"&&a.jsx(Pr,{})]}),a.jsxs("div",{className:"bg-blue-50 rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-4",children:"Supported Devices"}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("div",{className:"font-medium text-blue-800",children:"Oculus"}),a.jsx("div",{className:"text-blue-600",children:"Pentacam (EKR preferred)"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("div",{className:"font-medium text-blue-800",children:"Zeiss"}),a.jsx("div",{className:"text-blue-600",children:"IOL Master 700/500"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("div",{className:"font-medium text-blue-800",children:"Ziemer"}),a.jsx("div",{className:"text-blue-600",children:"Galilei"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("div",{className:"font-medium text-blue-800",children:"Haag-Streit"}),a.jsx("div",{className:"text-blue-600",children:"Lenstar, Eyestar"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("div",{className:"font-medium text-blue-800",children:"Nidek"}),a.jsx("div",{className:"text-blue-600",children:"OPD-Scan, AL-Scan"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("div",{className:"font-medium text-blue-800",children:"Topcon"}),a.jsx("div",{className:"text-blue-600",children:"Aladdin"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("div",{className:"font-medium text-blue-800",children:"And More"}),a.jsx("div",{className:"text-blue-600",children:"Universal support"})]})]})]}),a.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Calculation Methods"}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-6 text-sm",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-800 mb-2",children:"Modern Advanced (Primary)"}),a.jsxs("div",{className:"space-y-1 text-gray-600",children:[a.jsx("div",{children:"• Barrett Universal II (Advanced Regression)"}),a.jsx("div",{children:"• Kane Formula (AI-Optimized)"}),a.jsx("div",{children:"• Hill-RBF (Pattern Recognition)"}),a.jsx("div",{children:"• PEARL-DGS (Open Source ML)"}),a.jsx("div",{children:"• Hoffer QST (AI Evolution)"}),a.jsx("div",{children:"• EVO 2.0 (Vergence Based)"})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-800 mb-2",children:"Legacy Formulas (Reference)"}),a.jsxs("div",{className:"space-y-1 text-gray-600",children:[a.jsx("div",{children:"• SRK/T (1990 - Still Trusted)"}),a.jsx("div",{children:"• Holladay 1 (1988 - Classic)"}),a.jsx("div",{children:"• Hoffer Q (1993 - Short Eyes)"}),a.jsx("div",{children:"• Haigis (1999 - 3-Constant)"}),a.jsx("div",{children:"• + 25 additional formulas"}),a.jsx("div",{children:"• Complete historical library"})]})]})]})]})]})}vi.register(yi,bi,ji,wi,Ni,ki);function Ir(){var v;const e=fi(),t=Na(),[i,n]=b.useState(!1);b.useState(!1);const{biometry:s,iol:r,results:o}=e.state||{};if(!o)return a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Me,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"No Results Found"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Please upload a PDF and perform calculations first."}),a.jsx("button",{onClick:()=>t("/calculator"),className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:"Start New Calculation"})]});const l=o.formula_results.filter(d=>d.category==="modern"),f=o.formula_results.filter(d=>d.category==="legacy"),u=o.formula_results.filter(d=>d.category==="specialized"),p={labels:l.map(d=>d.formula_name),datasets:[{label:"IOL Power (D)",data:l.map(d=>d.iol_power),backgroundColor:"rgba(59, 130, 246, 0.8)",borderColor:"rgba(59, 130, 246, 1)",borderWidth:1}]},m={responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"Modern Formula Comparison"}},scales:{y:{beginAtZero:!1,min:Math.min(...l.map(d=>d.iol_power))-1,max:Math.max(...l.map(d=>d.iol_power))+1}}},w=async()=>{try{const d=await fetch("/api/generate-report",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({biometry:s,iol_selection:r,results:o,include_charts:!0,include_legacy_formulas:i})});if(d.ok){const h=await d.blob(),g=window.URL.createObjectURL(h),N=document.createElement("a");N.style.display="none",N.href=g,N.download=`IOL_Calculation_Report_${new Date().toISOString().split("T")[0]}.pdf`,document.body.appendChild(N),N.click(),window.URL.revokeObjectURL(g)}}catch(d){console.error("Failed to download report:",d)}},E=d=>{switch(d){case"high":return"text-green-600 bg-green-100";case"medium":return"text-yellow-600 bg-yellow-100";case"low":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}};return a.jsxs("div",{className:"max-w-6xl mx-auto space-y-8",children:[a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900",children:"IOL Calculation Results"}),a.jsxs("p",{className:"text-lg text-gray-600",children:["Comprehensive analysis with ",o.formula_results.length," formulas"]})]}),a.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-xl p-8",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Gt,{className:"h-8 w-8"}),a.jsx("h2",{className:"text-2xl font-bold",children:"Consensus Recommendation"})]}),a.jsxs("div",{className:`px-4 py-2 rounded-full text-sm font-medium ${o.consensus.confidence_level==="high"?"bg-green-500 text-white":o.consensus.confidence_level==="medium"?"bg-yellow-500 text-white":"bg-red-500 text-white"}`,children:[o.consensus.confidence_level.toUpperCase()," CONFIDENCE"]})]}),a.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"text-4xl font-bold mb-2",children:[o.consensus.recommended_power," D"]}),a.jsx("div",{className:"text-blue-100",children:"Recommended Power"})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"text-2xl font-semibold mb-2",children:[o.consensus.power_range[0]," - ",o.consensus.power_range[1]," D"]}),a.jsx("div",{className:"text-blue-100",children:"Power Range"})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"text-2xl font-semibold mb-2",children:[o.consensus.agreeing_formulas.length,"/",o.formula_results.length]}),a.jsx("div",{className:"text-blue-100",children:"Formulas Agree"})]})]}),o.consensus.outliers.length>0&&a.jsxs("div",{className:"mt-6 p-4 bg-blue-800 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx(bt,{className:"h-5 w-5"}),a.jsx("span",{className:"font-medium",children:"Outlier Formulas:"})]}),a.jsx("div",{className:"text-blue-100",children:o.consensus.outliers.join(", ")})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[a.jsxs("h3",{className:"text-xl font-semibold text-gray-900 mb-4 flex items-center",children:[a.jsx(we,{className:"mr-2 h-5 w-5"}),"Biometry Summary"]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[a.jsx("div",{className:"text-2xl font-bold text-gray-900",children:s.axial_length}),a.jsx("div",{className:"text-sm text-gray-600",children:"Axial Length (mm)"})]}),a.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[a.jsx("div",{className:"text-2xl font-bold text-gray-900",children:(v=s.k_avg)==null?void 0:v.toFixed(2)}),a.jsx("div",{className:"text-sm text-gray-600",children:"K Average (D)"})]}),a.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[a.jsx("div",{className:"text-2xl font-bold text-gray-900",children:s.acd}),a.jsx("div",{className:"text-sm text-gray-600",children:"ACD (mm)"})]}),a.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[a.jsx("div",{className:"text-2xl font-bold text-gray-900",children:Math.abs(s.k1-s.k2).toFixed(2)}),a.jsx("div",{className:"text-sm text-gray-600",children:"Astigmatism (D)"})]})]}),a.jsx("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg",children:a.jsxs("div",{className:"text-sm text-blue-800",children:[a.jsx("strong",{children:"IOL Platform:"})," ",r.platform," |",a.jsx("strong",{children:" Target Refraction:"})," ",r.targetRefraction||0," D |",a.jsx("strong",{children:" Device:"})," ",s.device_manufacturer," ",s.device_model]})})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[a.jsxs("h3",{className:"text-xl font-semibold text-gray-900 mb-6 flex items-center",children:[a.jsx(Gt,{className:"mr-2 h-5 w-5 text-blue-600"}),"Modern AI-Powered Formulas"]}),a.jsx("div",{className:"grid gap-4 mb-6",children:l.map((d,h)=>a.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:bg-gray-50",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("span",{className:"font-semibold text-gray-900",children:d.formula_name}),a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${E(d.confidence)}`,children:d.confidence})]}),a.jsx("div",{className:"text-sm text-gray-600 mt-1",children:d.notes})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[d.iol_power.toFixed(2)," D"]}),d.elp&&a.jsxs("div",{className:"text-sm text-gray-500",children:["ELP: ",d.elp.toFixed(2)," mm"]})]})]},h))}),a.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:a.jsx(Si,{data:p,options:m})})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[a.jsxs("button",{onClick:()=>n(!i),className:"w-full flex items-center justify-between text-xl font-semibold text-gray-900 mb-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(dt,{className:"mr-2 h-5 w-5 text-gray-600"}),"Legacy Formulas (",f.length,")"]}),i?a.jsx(zi,{className:"h-5 w-5"}):a.jsx(Oa,{className:"h-5 w-5"})]}),i&&a.jsx("div",{className:"grid gap-4",children:f.map((d,h)=>a.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg bg-gray-50",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("span",{className:"font-semibold text-gray-900",children:d.formula_name}),a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${E(d.confidence)}`,children:d.confidence})]}),a.jsx("div",{className:"text-sm text-gray-600 mt-1",children:d.notes})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[d.iol_power.toFixed(2)," D"]}),d.elp&&a.jsxs("div",{className:"text-sm text-gray-500",children:["ELP: ",d.elp.toFixed(2)," mm"]})]})]},h))})]}),u.length>0&&a.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[a.jsxs("h3",{className:"text-xl font-semibold text-gray-900 mb-6 flex items-center",children:[a.jsx(Ui,{className:"mr-2 h-5 w-5 text-purple-600"}),"Specialized Formulas"]}),a.jsx("div",{className:"grid gap-4",children:u.map((d,h)=>a.jsxs("div",{className:"flex items-center justify-between p-4 border border-purple-200 rounded-lg bg-purple-50",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("span",{className:"font-semibold text-gray-900",children:d.formula_name}),a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${E(d.confidence)}`,children:d.confidence})]}),a.jsx("div",{className:"text-sm text-gray-600 mt-1",children:d.notes})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[d.iol_power.toFixed(2)," D"]}),d.elp&&a.jsxs("div",{className:"text-sm text-gray-500",children:["ELP: ",d.elp.toFixed(2)," mm"]})]})]},h))})]}),o.warnings&&o.warnings.length>0&&a.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6",children:[a.jsxs("h3",{className:"text-lg font-semibold text-yellow-800 mb-4 flex items-center",children:[a.jsx(bt,{className:"mr-2 h-5 w-5"}),"Clinical Considerations"]}),a.jsx("ul",{className:"space-y-2",children:o.warnings.map((d,h)=>a.jsxs("li",{className:"text-yellow-700 flex items-start",children:[a.jsx("span",{className:"mr-2",children:"•"}),a.jsx("span",{children:d})]},h))})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[a.jsxs("button",{onClick:w,className:"flex items-center justify-center px-6 py-3 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 transition-colors",children:[a.jsx(Mi,{className:"mr-2 h-5 w-5"}),"Download PDF Report"]}),a.jsxs("button",{onClick:()=>t("/calculator"),className:"flex items-center justify-center px-6 py-3 border-2 border-blue-600 text-blue-600 font-semibold rounded-lg hover:bg-blue-50 transition-colors",children:[a.jsx(Me,{className:"mr-2 h-5 w-5"}),"New Calculation"]}),a.jsxs("button",{onClick:()=>{navigator.share&&navigator.share({title:"IOL Calculation Results",text:`IOL Power: ${o.consensus.recommended_power} D`,url:window.location.href})},className:"flex items-center justify-center px-6 py-3 border border-gray-300 text-gray-700 font-semibold rounded-lg hover:bg-gray-50 transition-colors",children:[a.jsx(Hi,{className:"mr-2 h-5 w-5"}),"Share Results"]})]}),a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6",children:a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx(bt,{className:"h-6 w-6 text-red-600 mt-1 flex-shrink-0"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("h3",{className:"font-semibold text-red-800",children:"Medical Disclaimer"}),a.jsx("p",{className:"text-red-700 text-sm",children:"These calculations are provided for educational purposes only. All results should be verified independently. This tool is not intended to replace professional medical judgment. Users assume full responsibility for clinical decisions. Always verify IOL power calculations using multiple methods before surgery."})]})]})})]})}function zr(){return a.jsx("div",{className:"min-h-screen",children:a.jsxs(hi,{children:[a.jsx(yt,{path:"/",element:a.jsx(Gi,{})}),a.jsx(yt,{path:"/calculator",element:a.jsx(Lr,{})}),a.jsx(yt,{path:"/results",element:a.jsx(Ir,{})})]})})}Et.createRoot(document.getElementById("root")).render(a.jsx(wa.StrictMode,{children:a.jsx(gi,{children:a.jsx(zr,{})})}));
